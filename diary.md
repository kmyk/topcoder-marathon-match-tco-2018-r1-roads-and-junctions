## 日記

### 問題概要

2次元平面上に NC 個の町がある。
町と町の間に線分で道を敷設しすべての町を連結にしたい。
ただし道の敷設には長さに比例した費用がかかる。
道の端点は町か交差点である必要がある。
道の敷設の前に一度だけ、好きな数の交差点を建設してよい。
交差点の建設(の試行)には費用を支払う必要があり、ある確率で建設に失敗する。
できるだけ少ない費用を使ってすべての町(と建設に成功した交差点)を連結にせよ。

制約:

-   空間の幅 100 \le S \le 1000
-   町の数 10 \le NC \le 100
-   交差点の費用 0.0 \le junctionCost \le 10.0
-   交差点の建設の失敗の確率 0% \le failureProbability \le 40%

得点:

-   raw score: (道の総距離) + junctionCost * (交差点の数)
-   交差点の数には建設に失敗したものも含む
-   overall score: それぞれテストケースについて次を求めその総和: ((全参加者の最良の点数) / (自分の点数))^2

修正:

-   overall score修正反映済み
-   交差点の連結制約について誤読修正済み

### 5/10

今回は何すればいいか分からない。
焼き鈍しもビームサーチも効きにくそうでつらい。
chokudaiさんが1位取りそう。

下手に交差点の建設をさぼると連結化不可能になって詰むし難しいなあというのが第一印象だったが、visualizeしたら斜めの道もありだった。
道の交差の有無などは陽に確認したのに、道は軸平行だと思い込んでいた。
だって町の座標が整数点だったんだもん。
まだ数分考えただけとはいえ、誤読の情報だけ学習して他はちゃんと0から考察をrestartしないと前回と同じ轍を踏むぞ。

とりあえず交差点なしだと最小全域木やるだけ。
交差点ありだと(建設の成功失敗が決定した後でさえ)ちょっと面倒。
石鹸膜の表面積最小化みたいなあれが必要。
交差点ありの場合は最小Steiner木問題と呼ばれNP困難らしい (出典: [Steiner tree problem - Wikipedia](https://en.wikipedia.org/wiki/Steiner_tree_problem), [シュタイナー木 - Wikipedia](https://ja.wikipedia.org/wiki/%E3%82%B7%E3%83%A5%E3%82%BF%E3%82%A4%E3%83%8A%E3%83%BC%E6%9C%A8))。
でも今回は前回と違ってちゃんと平面グラフなので多項式解法あるかも。
そういえば師匠がICPC用としてSteiner木ライブラリ持ってたなあ。
交差点の位置が固定された後ですらNP困難なのに建設の試行からやるのつらいなあ。
Dreyfus-Wagner法というのがあるぽい (参考: [Spaghetti Source - 最小シュタイナー木 (Dreyfus-Wagner)](http://www.prefield.com/algorithm/dp/steiner_tree.html), [指数時間アルゴリズム入門, 岩田陽一 - SlideShare](https://www.slideshare.net/wata_orz/ss-12131479)) が、ほとんどの頂点が端点になる場合には実質ただの全探索になりそう。
Molle-Richter-Rossmanith法というのもあるらしいが方向性は変わらず。
すごく近いのがWikipediaにそのまま乗ってた: [Euclidean Steiner tree](https://en.wikipedia.org/wiki/Steiner_tree_problem#Euclidean_Steiner_tree)。

無駄なもの建設してもしかたがないので建設したものについては全部使うと仮定したい。
これは罠で、ふたつそろえば超効果的だけどひとつだけだとむしろ邪魔、みたいな場合が反例。
いやそんな例は実際に発生するのだろうか。
ひとつ削除して試してみて良くなれば候補として採用し、候補からふたつ選んで削除して...と繰り返すのはどうか。
複数削除して良くなるならその部分を削除しても良くなるという形の単調性が仮定されている。
これも反例ありそうだが。

最小全域木の手法はたくさんあるので調べるとKruskal法やPrim法より適したものがありそう。
特に今回は Euclidean complete graph なのでいくらでもどうにかできそう。

とりあえず交差点はひとつだけ建設するとすると評価関数 : N^2 -> R の最小化で、いい感じに微分とかして連続最適化っぽくしたい。
最終的にできた全域木を見てグラフ描画における力学モデルの要領でずらしてやればいいのかな。
なんだかk-means法っぽくなるね。
となると交差点の数 NJ は最初に固定してしまうのがいいのかも。


とりあえず Prim法。
交差点なしで基準点としてまず最小全域木。
密なので Kruskal法 より良いかなと思ったけど実際分からん。 両方試すべき。
基準点ということでそのまま提出した。
撤退の是非を議論するのは手損になるため。
この点数より低い人々は何をしてるんだろう。 単に退路を断つだけなら同じでしょという意見もある。
そして kurenai3110 さんが1位。 twitterの表示名でハラスメントするのやめてください。

<details>
<summary>順位表 2018年  5月 10日 木曜日 18:54:20 JST</summary>

| Handle        | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|---------------|------------|-------|--------------------------|-----------|----------------|--------------|
| kurenai3110   | 875740.74  | 1     | 05.10.2018 03:46:19 EST  | C++       | 1              | 1            |
| gorbunov      | 871851.85  | 2     | 05.10.2018 05:41:08 EST  | C++       | 2              | 2            |
| nika          | 847037.04  | 3     | 05.10.2018 05:05:56 EST  | C++       | 0              | 2            |
| windhunterSB  | 798333.33  | 4     | 05.10.2018 05:15:40 EST  | C++       | 2              | 2            |
| kishore_g84   | 761851.85  | 5     | 05.10.2018 00:16:14 EST  | Java      | 1              | 1            |
| yowa          | 735740.74  | 6     | 05.09.2018 22:35:20 EST  | C++       | 1              | 1            |
| assy0000      | 705185.19  | 7     | 05.10.2018 04:33:05 EST  | C++       | 3              | 2            |
| sidekick      | 691111.11  | 8     | 05.10.2018 02:20:17 EST  | Java      | 0              | 1            |
| Daiver19      | 675925.93  | 9     | 05.10.2018 01:14:47 EST  | C++       | 1              | 1            |
| keymoon       | 675925.93  | 9     | 05.10.2018 01:43:56 EST  | C#        | 1              | 1            |
| Lozy          | 675925.93  | 9     | 05.10.2018 01:21:36 EST  | C++       | 1              | 1            |
| shamal        | 661851.85  | 12    | 05.10.2018 04:45:23 EST  | C++       | 1              | 1            |
| fluffyowl     | 655000.00  | 13    | 05.10.2018 02:21:10 EST  | C++       | 2              | 1            |
| bduvenhage    | 653703.70  | 14    | 05.10.2018 04:00:25 EST  | C++       | 1              | 1            |
| kimiyuki      | 653703.70  | 14    | 05.10.2018 05:53:10 EST  | C++       | 1              | 1            |
| Masa-Y        | 653703.70  | 14    | 05.10.2018 01:21:28 EST  | C++       | 1              | 1            |
| mcw1142       | 653703.70  | 14    | 05.10.2018 02:01:26 EST  | Java      | 1              | 1            |
| scott_wu      | 653703.70  | 14    | 05.09.2018 21:28:01 EST  | C++       | 1              | 1            |
| senya0126     | 493888.89  | 19    | 05.10.2018 03:24:33 EST  | C++       | 1              | 1            |
| vlad_D        | 489444.44  | 20    | 05.10.2018 01:33:59 EST  | C++       | 2              | 1            |
| NEU20133823   | 272222.22  | 21    | 05.10.2018 02:09:49 EST  | C++       | 2              | 2            |
| daisyo        | 222222.22  | 22    | 05.10.2018 03:25:33 EST  | C++       | 2              | 2            |
| CatalinT      | 175185.19  | 23    | 05.10.2018 03:34:11 EST  | C++       | 1              | 1            |
| NobuMiu       | 116666.67  | 24    | 05.09.2018 21:20:25 EST  | C++       | 1              | 1            |
| mugurelionut  | 108148.15  | 25    | 05.10.2018 05:13:49 EST  | C++       | 1              | 1            |
| masakt        | 100740.74  | 26    | 05.10.2018 05:52:34 EST  | C++       | 1              | 1            |
| babybuffalo   | 14074.07   | 27    | 05.09.2018 22:06:27 EST  | C++       | 1              | 1            |
| moshu         | 14074.07   | 27    | 05.10.2018 01:55:55 EST  | C++       | 1              | 1            |
| cheaps        | -          | -     | -                        | -         | 1              | 0            |
| sas4eka       | -          | -     | -                        | -         | 2              | 0            |
| shin_taku     | -          | -     | -                        | -         | 1              | 0            |

</details>


<https://twitter.com/koyumeishi_/status/994540145436123137> たしかに二分されてて面白い。

<details>
<summary>順位表 2018年  5月 10日 木曜日 20:34:57 JST</summary>

| Handle        | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|---------------|------------|-------|--------------------------|-----------|----------------|--------------|
| yowa          | 867567.57  | 1     | 05.10.2018 06:33:31 EST  | C++       | 2              | 2            |
| gorbunov      | 847567.57  | 2     | 05.10.2018 05:41:08 EST  | C++       | 2              | 2            |
| kurenai3110   | 847432.43  | 3     | 05.10.2018 03:46:19 EST  | C++       | 1              | 1            |
| nika          | 820405.41  | 4     | 05.10.2018 05:05:56 EST  | C++       | 0              | 2            |
| windhunterSB  | 765270.27  | 5     | 05.10.2018 05:15:40 EST  | C++       | 2              | 2            |
| Kriii         | 764054.05  | 6     | 05.10.2018 06:03:40 EST  | C++       | 0              | 1            |
| kishore_g84   | 745405.41  | 7     | 05.10.2018 00:16:14 EST  | Java      | 1              | 1            |
| assy0000      | 672972.97  | 8     | 05.10.2018 06:39:09 EST  | C++       | 4              | 3            |
| skrzypl1      | 669729.73  | 9     | 05.10.2018 06:47:48 EST  | C#        | 1              | 1            |
| sidekick      | 667567.57  | 10    | 05.10.2018 02:20:17 EST  | Java      | 0              | 1            |
| fetetriste    | 658783.78  | 11    | 05.10.2018 07:07:30 EST  | Java      | 1              | 1            |
| daisyo        | 642702.70  | 12    | 05.10.2018 07:26:20 EST  | C++       | 3              | 3            |
| Daiver19      | 642702.70  | 12    | 05.10.2018 01:14:47 EST  | C++       | 1              | 1            |
| Jeffrey.Ho    | 642702.70  | 12    | 05.10.2018 06:41:56 EST  | C++       | 1              | 1            |
| keymoon       | 642702.70  | 12    | 05.10.2018 01:43:56 EST  | C#        | 1              | 1            |
| Lozy          | 642702.70  | 12    | 05.10.2018 01:21:36 EST  | C++       | 1              | 1            |
| m_dz          | 642702.70  | 12    | 05.10.2018 07:04:41 EST  | C++       | 1              | 1            |
| shamal        | 634594.59  | 18    | 05.10.2018 04:45:23 EST  | C++       | 1              | 1            |
| fluffyowl     | 626756.76  | 19    | 05.10.2018 02:21:10 EST  | C++       | 2              | 1            |
| bduvenhage    | 625405.41  | 20    | 05.10.2018 04:00:25 EST  | C++       | 1              | 1            |
| fal_rnd       | 625405.41  | 20    | 05.10.2018 06:39:42 EST  | Java      | 1              | 1            |
| kimiyuki      | 625405.41  | 20    | 05.10.2018 05:53:10 EST  | C++       | 1              | 1            |
| Masa-Y        | 625405.41  | 20    | 05.10.2018 01:21:28 EST  | C++       | 1              | 1            |
| mcw1142       | 625405.41  | 20    | 05.10.2018 02:01:26 EST  | Java      | 1              | 1            |
| mugurelionut  | 625405.41  | 20    | 05.10.2018 07:20:55 EST  | C++       | 2              | 2            |
| sas4eka       | 625405.41  | 20    | 05.10.2018 05:54:04 EST  | C++       | 2              | 1            |
| scott_wu      | 625405.41  | 20    | 05.09.2018 21:28:01 EST  | C++       | 1              | 1            |
| senya0126     | 445405.41  | 28    | 05.10.2018 03:24:33 EST  | C++       | 1              | 1            |
| vlad_D        | 443783.78  | 29    | 05.10.2018 01:33:59 EST  | C++       | 2              | 1            |
| kt_tenel      | 430945.95  | 30    | 05.10.2018 06:22:44 EST  | C++       | 1              | 1            |
| NEU20133823   | 203243.24  | 31    | 05.10.2018 02:09:49 EST  | C++       | 2              | 2            |
| my316g        | 158918.92  | 32    | 05.10.2018 07:29:27 EST  | C++       | 2              | 1            |
| CatalinT      | 129729.73  | 33    | 05.10.2018 03:34:11 EST  | C++       | 1              | 1            |
| ceni1055      | 87837.84   | 34    | 05.10.2018 07:24:01 EST  | C++       | 1              | 1            |
| masakt        | 70000.00   | 35    | 05.10.2018 05:52:34 EST  | C++       | 1              | 1            |
| NobuMiu       | 68648.65   | 36    | 05.09.2018 21:20:25 EST  | C++       | 1              | 1            |
| babybuffalo   | 12162.16   | 37    | 05.09.2018 22:06:27 EST  | C++       | 1              | 1            |
| moshu         | 12162.16   | 37    | 05.10.2018 01:55:55 EST  | C++       | 1              | 1            |
| cheaps        | -          | -     | -                        | -         | 1              | 0            |
| shin_taku     | -          | -     | -                        | -         | 2              | 0            |

</details>


ある点に交差点を置いた場合の点数の差分を可視化した。
とても楽しい。
3Dもしたがあまり役には立たず。
基本は三角形の重心あたりが最適となるぽい。
隣接する三角形による改善同士は干渉しそうだが、そうでない限りはかなりそれぞれ局所的に解けそう。
愚直に三角形を総当たりしてもよいが、時間もいくらかあるしDelaunay三角形分割とかをしたい気もする。
乱択でわりと簡単らしい (出典: [ドロネー三角形分割, shiatsumat - SlideShare](https://www.slideshare.net/Kinokkory/ss-25736696)) しまだ書いたことないのでやりたい。

-   ![grad.1.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/cbd1479f4b52cc2a2b71036a7ad3f7b26376ee68/images/grad.1.png?token=ACGd-Pwi2rgANkbJkgMu5CWHWdbQ8fo4ks5a_2tYwA%3D%3D)
-   ![grad.2.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/documents/images/grad.2.png?token=ACGd-FdiZxoabEv2ttq-wQGI4EbBjRVeks5a_2uLwA%3D%3D)
-   ![grad.3.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/documents/images/grad.3.png?token=ACGd-KPyxHRT_zSCnhuyFc7g6J03XuH1ks5a_2uNwA%3D%3D)
-   ![grad3d.2.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/documents/images/grad3d.2.png?token=ACGd-CJlJzwqbUMe8hRtRPkH9eF1Aoz9ks5a_2ufwA%3D%3D)

### 5/11

a junction って随伴に似てませんか？ と思って綴りを確認したら `s/ /d/` すれば一致した。

[Tester validation is incomplete. - TopCoder Forum](https://apps.topcoder.com/forums/?module=Thread&threadID=917838&start=0)。
ありがちなバグ。
こういうのに気付くということはhakomoさんはちゃんとvisualizer全部読んでるんだなあ。
私は `generate()` method ぐらいしか読んでない。 やる気が足りない。

[Leaderboard Scoring Method Change - TopCoder Forum](https://apps.topcoder.com/forums/?module=Thread&threadID=917852&start=0)。
後から変えないで。
あまり変更の理由を理解できてない (だめ)。
まあ初日だしそう変な修正でもないのでよし。
chokudaiさんが狼狽えてる (<https://twitter.com/chokudai/status/994624927570448384>, <https://twitter.com/chokudai/status/994624959879118848>, <https://twitter.com/chokudai/status/994625382186823681>)。
「投げ捨て」が発生するような変更だったとは思えないが何をしてたのだろう。
棄権するらしい？ 強い人が消えるのはrating的には有利だけどなんだかちょっと残念。
確かに「最大値を狙って交差点を単独設置」「安全のため交差点を複数設置」の有効性の大小に影響しうるのだけど。
しかし逆になるのだろうと推測が立つだけで、どちらが上がってどちらが下がったかすら把握できてない。 だめすぎる。

>   Note that every junction built successfully must also be connected to the road system together with the cities.

これ読み落としてた。
交差点は強制で全部使うらしい。
Steiner木要らなくて普通に最小全域木でよかったらしい。
ほんとうに誤読が多くてだめ。 目も付いてない。
というかこうなったらもうほんとに山登りしかやることなくなる気がする。

<details>
<summary>順位表 2018年  5月 11日 金曜日 03:00:55 JST cf3da616c17901e5b5d5b40187ef6bb66f94dcfc</summary>

| Handle           | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|------------------|------------|-------|--------------------------|-----------|----------------|--------------|
| okazaki          | 997074.29  | 1     | 05.10.2018 12:40:13 EST  | Java      | 0              | 2            |
| imazato          | 997030.32  | 2     | 05.10.2018 11:47:35 EST  | C++       | 1              | 1            |
| mugurelionut     | 996945.47  | 3     | 05.10.2018 13:13:01 EST  | C++       | 5              | 4            |
| Errichto         | 996234.29  | 4     | 05.10.2018 07:56:35 EST  | C++       | 1              | 1            |
| Masa-Y           | 995905.48  | 5     | 05.10.2018 13:28:56 EST  | C++       | 4              | 4            |
| kurenai3110      | 995449.55  | 6     | 05.10.2018 13:48:43 EST  | C++       | 3              | 3            |
| JacoCronje       | 995035.86  | 7     | 05.10.2018 10:11:16 EST  | C++       | 1              | 1            |
| yowa             | 994774.59  | 8     | 05.10.2018 13:01:28 EST  | C++       | 3              | 3            |
| EvbCFfp1XB       | 994109.78  | 9     | 05.10.2018 12:14:09 EST  | Java      | 2              | 2            |
| rng_58           | 993989.55  | 10    | 05.10.2018 10:06:59 EST  | C++       | 1              | 1            |
| gorbunov         | 993923.26  | 11    | 05.10.2018 12:10:54 EST  | C++       | 3              | 4            |
| windhunterSB     | 993111.76  | 12    | 05.10.2018 09:19:23 EST  | C++       | 3              | 3            |
| nika             | 992801.26  | 13    | 05.10.2018 05:05:56 EST  | C++       | 0              | 2            |
| fetetriste       | 992729.99  | 14    | 05.10.2018 10:15:27 EST  | Java      | 2              | 2            |
| sas4eka          | 992500.45  | 15    | 05.10.2018 13:04:20 EST  | C++       | 11             | 4            |
| iwashi31         | 992306.32  | 16    | 05.10.2018 12:41:47 EST  | C++       | 0              | 1            |
| kotamanegi       | 991639.37  | 17    | 05.10.2018 11:41:58 EST  | C++       | 3              | 2            |
| simanman         | 991508.80  | 18    | 05.10.2018 13:31:27 EST  | C++       | 1              | 1            |
| PaulJefferys     | 991164.63  | 19    | 05.10.2018 08:16:44 EST  | C++       | 1              | 1            |
| eris_c           | 990929.91  | 20    | 05.10.2018 12:43:19 EST  | C++       | 4              | 2            |
| rantd            | 990909.01  | 21    | 05.10.2018 12:47:06 EST  | C++       | 2              | 3            |
| mamekin          | 990875.81  | 22    | 05.10.2018 10:31:44 EST  | C++       | 2              | 2            |
| tanzaku          | 990405.12  | 23    | 05.10.2018 12:27:28 EST  | Java      | 0              | 1            |
| Kriii            | 990097.56  | 24    | 05.10.2018 11:36:25 EST  | C++       | 1              | 2            |
| assy0000         | 989786.80  | 25    | 05.10.2018 08:39:48 EST  | C++       | 5              | 4            |
| fal_rnd          | 989701.80  | 26    | 05.10.2018 09:40:46 EST  | Java      | 2              | 2            |
| kimiyuki         | 984514.44  | 27    | 05.10.2018 13:59:13 EST  | C++       | 2              | 2            |
| kuuso1           | 984169.37  | 28    | 05.10.2018 12:38:05 EST  | C#        | 1              | 1            |
| daisyo           | 983702.58  | 29    | 05.10.2018 09:26:40 EST  | C++       | 5              | 4            |
| AlexeyProkopnev  | 983458.64  | 30    | 05.10.2018 09:43:57 EST  | Java      | 1              | 1            |
| bduvenhage       | 983458.64  | 30    | 05.10.2018 04:00:25 EST  | C++       | 1              | 1            |
| Daiver19         | 983458.64  | 30    | 05.10.2018 01:14:47 EST  | C++       | 1              | 1            |
| fluffyowl        | 983458.64  | 30    | 05.10.2018 02:21:10 EST  | C++       | 2              | 1            |
| hirokazu         | 983458.64  | 30    | 05.10.2018 10:51:20 EST  | C++       | 1              | 1            |
| Jeffrey.Ho       | 983458.64  | 30    | 05.10.2018 06:41:56 EST  | C++       | 1              | 1            |
| keymoon          | 983458.64  | 30    | 05.10.2018 01:43:56 EST  | C#        | 1              | 1            |
| kishore_g84      | 983458.64  | 30    | 05.10.2018 00:16:14 EST  | Java      | 1              | 1            |
| kossi_tg         | 983458.64  | 30    | 05.10.2018 08:25:38 EST  | Java      | 0              | 1            |
| Lozy             | 983458.64  | 30    | 05.10.2018 01:21:36 EST  | C++       | 1              | 1            |
| maniek           | 983458.64  | 30    | 05.10.2018 11:08:04 EST  | C++       | 0              | 1            |
| mcw1142          | 983458.64  | 30    | 05.10.2018 02:01:26 EST  | Java      | 1              | 1            |
| mstr             | 983458.64  | 30    | 05.10.2018 12:35:09 EST  | Java      | 1              | 1            |
| my316g           | 983458.64  | 30    | 05.10.2018 09:29:39 EST  | C++       | 3              | 2            |
| scott_wu         | 983458.64  | 30    | 05.09.2018 21:28:01 EST  | C++       | 1              | 1            |
| shamal           | 983458.64  | 30    | 05.10.2018 04:45:23 EST  | C++       | 1              | 1            |
| shilov           | 983458.64  | 30    | 05.10.2018 13:38:17 EST  | Java      | 1              | 1            |
| shin_taku        | 983458.64  | 30    | 05.10.2018 07:34:55 EST  | C++       | 2              | 1            |
| sidekick         | 983458.64  | 30    | 05.10.2018 02:20:17 EST  | Java      | 0              | 1            |
| SimonM           | 983458.64  | 30    | 05.10.2018 13:39:41 EST  | C++       | 1              | 1            |
| skrzypl1         | 983458.64  | 30    | 05.10.2018 06:47:48 EST  | C#        | 1              | 1            |
| Taiyo..          | 983458.64  | 30    | 05.10.2018 10:58:04 EST  | C++       | 1              | 1            |
| tehnar           | 983458.64  | 30    | 05.10.2018 08:52:32 EST  | C++       | 1              | 1            |
| TSakai           | 983458.64  | 30    | 05.10.2018 10:41:22 EST  | C++       | 1              | 1            |
| xyz600           | 983458.64  | 30    | 05.10.2018 10:48:33 EST  | C++       | 1              | 1            |
| yuya178          | 983458.64  | 30    | 05.10.2018 08:16:32 EST  | Java      | 1              | 1            |
| kt_tenel         | 982906.54  | 56    | 05.10.2018 06:22:44 EST  | C++       | 1              | 1            |
| senya0126        | 982900.73  | 57    | 05.10.2018 03:24:33 EST  | C++       | 1              | 1            |
| masakt           | 982875.73  | 58    | 05.10.2018 07:55:48 EST  | C++       | 2              | 2            |
| vlad_D           | 982875.73  | 58    | 05.10.2018 01:33:59 EST  | C++       | 2              | 1            |
| NEU20133823      | 962339.75  | 60    | 05.10.2018 13:34:42 EST  | C++       | 2              | 3            |
| m_dz             | 951564.64  | 61    | 05.10.2018 09:23:36 EST  | C++       | 2              | 2            |
| y_kawano         | 298845.34  | 62    | 05.10.2018 12:48:46 EST  | C++       | 1              | 1            |
| CatalinT         | 84821.13   | 63    | 05.10.2018 03:34:11 EST  | C++       | 1              | 1            |
| nicklaw296       | 75486.03   | 64    | 05.10.2018 08:07:45 EST  | C++       | 1              | 1            |
| ceni1055         | 73733.08   | 65    | 05.10.2018 09:25:59 EST  | C++       | 2              | 2            |
| NobuMiu          | 49155.27   | 66    | 05.09.2018 21:20:25 EST  | C++       | 1              | 1            |
| alittlezz        | 12225.50   | 67    | 05.10.2018 12:06:00 EST  | C++       | 1              | 1            |
| babybuffalo      | 12225.50   | 67    | 05.09.2018 22:06:27 EST  | C++       | 1              | 1            |
| baseballnut      | 12225.50   | 67    | 05.10.2018 12:33:47 EST  | Java      | 1              | 1            |
| id               | 12225.50   | 67    | 05.10.2018 13:19:47 EST  | C#        | 1              | 1            |
| moshu            | 12225.50   | 67    | 05.10.2018 01:55:55 EST  | C++       | 1              | 1            |
| PnumaSON         | 12225.50   | 67    | 05.10.2018 09:37:12 EST  | C++       | 0              | 1            |
| promien          | 12225.50   | 67    | 05.10.2018 13:48:44 EST  | Java      | 1              | 1            |
| pkhomchuk        | 299.45     | 74    | 05.10.2018 13:11:02 EST  | C++       | 0              | 1            |
| aytawgf          | 5.73       | 75    | 05.10.2018 12:07:15 EST  | C++       | 3              | 1            |
| cheaps           | -          | -     | -                        | -         | 1              | 0            |

</details>

<details>
<summary>score表 cf3da616c17901e5b5d5b40187ef6bb66f94dcfc (score値バグ修正済み)</summary>

|  seed  |  S     |  NC   |  junction_cost  |  failure_probability  |  reference_score  |  score    |  NJ  |  reference_delta  |  elapsed      |
|--------|--------|-------|-----------------|-----------------------|-------------------|-----------|------|-------------------|---------------|
|  1     |  100   |  10   |  0              |  0                    |  211.799          |  205.014  |  2   |  6.78456          |  0.000860695  |
|  2     |  1000  |  100  |  10             |  0.4                  |  7076.41          |  7069.4   |  1   |  7.01586          |  1.59292      |
|  3     |  681   |  29   |  1.19683        |  0.219465             |  2650.32          |  2633.35  |  13  |  16.9718          |  0.0173779    |
|  4     |  651   |  83   |  1.73856        |  0.234257             |  3860.76          |  3840     |  16  |  20.7559          |  0.649656     |
|  5     |  203   |  59   |  0.485986       |  0.318834             |  1145.17          |  1138.03  |  18  |  7.13966          |  0.115974     |
|  6     |  159   |  36   |  6.19182        |  0.133476             |  602.476          |  602.476  |  0   |  0                |  0.0196131    |
|  7     |  992   |  54   |  3.05834        |  0.222134             |  4615.96          |  4561.1   |  17  |  54.8673          |  0.190564     |
|  8     |  290   |  30   |  5.06014        |  0.0833835            |  1029.27          |  1029.27  |  0   |  0                |  0.0135994    |
|  9     |  352   |  74   |  8.31999        |  0.355557             |  2075.8           |  2075.8   |  0   |  0                |  0.322014     |
|  10    |  612   |  41   |  0.214048       |  0.34114              |  2705.94          |  2650.82  |  42  |  55.12            |  0.0707085    |
|  11    |  638   |  46   |  3.62507        |  0.0876584            |  2863.82          |  2851     |  3   |  12.8238          |  0.0844636    |
|  12    |  725   |  86   |  3.3736         |  0.26382              |  4406.18          |  4390.58  |  16  |  15.5976          |  0.836613     |
|  13    |  463   |  43   |  8.45917        |  0.281464             |  2071.32          |  2071.32  |  0   |  0                |  0.0692092    |
|  14    |  132   |  22   |  8.10864        |  0.292175             |  455.443          |  455.443  |  0   |  0                |  0.00424892   |
|  15    |  809   |  76   |  5.21673        |  0.207705             |  4839.52          |  4814.63  |  13  |  24.8942          |  0.599265     |
|  16    |  747   |  65   |  3.34758        |  0.0271153            |  3851.48          |  3931.9   |  21  |  -80.4192         |  0.372731     |
|  17    |  453   |  15   |  9.39138        |  0.363217             |  1368.78          |  1347.76  |  2   |  21.0201          |  0.00480211   |
|  18    |  394   |  50   |  4.57993        |  0.0602296            |  1753.25          |  1749.45  |  4   |  3.7962           |  0.101517     |
|  19    |  424   |  10   |  5.98642        |  0.0195443            |  755.232          |  799.659  |  4   |  -44.4272         |  0.00250405   |
|  20    |  586   |  93   |  4.29216        |  0.179694             |  4194.97          |  4207.81  |  16  |  -12.8379         |  0.957381     |
|  21    |  111   |  92   |  6.18773        |  0.374979             |  688.366          |  688.366  |  0   |  0                |  0.103135     |
|  22    |  652   |  54   |  4.17726        |  0.158484             |  3356.2           |  3315.44  |  10  |  40.7561          |  0.197475     |
|  23    |  386   |  35   |  5.333          |  0.313822             |  1460.57          |  1454.68  |  1   |  5.89542          |  0.0348013    |
|  24    |  747   |  46   |  5.98039        |  0.330563             |  3533.73          |  3507.85  |  7   |  25.8804          |  0.121624     |
|  25    |  599   |  69   |  0.438833       |  0.359372             |  3346.57          |  3342.36  |  47  |  4.20932          |  0.376461     |
|  26    |  595   |  66   |  4.29018        |  0.356701             |  3312.26          |  3280.53  |  8   |  31.7251          |  0.366483     |
|  27    |  916   |  93   |  8.99019        |  0.0844748            |  6114.55          |  6106.81  |  9   |  7.73636          |  1.22248      |
|  28    |  418   |  50   |  9.05043        |  0.376639             |  2141.44          |  2141.44  |  0   |  0                |  0.112983     |
|  29    |  526   |  17   |  5.96958        |  0.193245             |  1763.78          |  1755.69  |  3   |  8.08951          |  0.00295357   |
|  30    |  989   |  52   |  7.33554        |  0.181162             |  4833.05          |  4825.13  |  7   |  7.91845          |  0.164615     |
|  31    |  889   |  89   |  2.12542        |  0.144358             |  5957.45          |  5917.1   |  33  |  40.353           |  1.32841      |
|  32    |  119   |  10   |  6.91145        |  0.171263             |  322.868          |  322.868  |  0   |  0                |  0.000659826  |
|  33    |  780   |  70   |  8.90866        |  0.332704             |  4174.82          |  4169.82  |  1   |  4.99849          |  0.412032     |
|  34    |  253   |  22   |  4.7433         |  0.218495             |  894.603          |  898.77   |  2   |  -4.16754         |  0.0061215    |
|  35    |  971   |  96   |  4.81178        |  0.198557             |  6231.32          |  6298.54  |  21  |  -67.2152         |  1.39886      |
|  36    |  915   |  92   |  3.10678        |  0.163317             |  6158.92          |  6185.59  |  35  |  -26.6737         |  1.38072      |
|  37    |  545   |  56   |  8.53145        |  0.344125             |  2498.38          |  2492.18  |  1   |  6.20887          |  0.176495     |
|  38    |  944   |  38   |  9.56239        |  0.0884913            |  4065.27          |  4056.37  |  1   |  8.89509          |  0.045476     |
|  39    |  795   |  48   |  5.90049        |  0.382981             |  3740.64          |  3744.32  |  6   |  -3.6788          |  0.11519      |
|  40    |  661   |  62   |  6.58611        |  0.392874             |  3354.46          |  3356.62  |  3   |  -2.1657          |  0.285094     |
|  41    |  905   |  83   |  1.10634        |  0.0719624            |  5506.82          |  5518.88  |  30  |  -12.0515         |  0.827176     |
|  42    |  793   |  34   |  1.91818        |  0.0745493            |  2802.91          |  2833.93  |  14  |  -31.0233         |  0.0395689    |
|  43    |  635   |  71   |  8.94074        |  0.107323             |  3444.94          |  3437.25  |  1   |  7.69375          |  0.387939     |
|  44    |  100   |  73   |  4.84695        |  0.244568             |  575.775          |  575.775  |  0   |  0                |  0.0616154    |
|  45    |  102   |  39   |  5.2517         |  0.111105             |  483.439          |  483.439  |  0   |  0                |  0.0204268    |
|  46    |  855   |  34   |  4.00221        |  0.136547             |  3741.47          |  3887.58  |  15  |  -146.105         |  0.140002     |
|  47    |  137   |  14   |  2.99751        |  0.188836             |  301.056          |  298.487  |  2   |  2.56903          |  0.00134667   |
|  48    |  447   |  92   |  7.83364        |  0.171961             |  2977.86          |  2983.73  |  3   |  -5.8671          |  0.740349     |
|  49    |  182   |  51   |  4.8496         |  0.0729895            |  809.078          |  809.078  |  0   |  0                |  0.0611609    |
|  50    |  811   |  44   |  9.82905        |  0.336282             |  3576.43          |  3616.51  |  4   |  -40.0765         |  0.114968     |
|  51    |  531   |  46   |  3.83671        |  0.199246             |  2564.27          |  2585.98  |  12  |  -21.7097         |  0.107402     |
|  52    |  319   |  84   |  3.72433        |  0.372165             |  1936.22          |  1932.88  |  1   |  3.34362          |  0.373804     |
|  53    |  441   |  84   |  6.76474        |  0.197857             |  2746.55          |  2748.19  |  3   |  -1.64443         |  0.540361     |
|  54    |  700   |  79   |  8.38883        |  0.226232             |  4060.89          |  4062.91  |  2   |  -2.01502         |  0.6271       |
|  55    |  116   |  43   |  3.24492        |  0.238288             |  525.939          |  525.939  |  0   |  0                |  0.0323054    |
|  56    |  957   |  65   |  5.55508        |  0.0697866            |  5422.59          |  5363.06  |  11  |  59.5215          |  0.36609      |
|  57    |  236   |  85   |  9.93316        |  0.305369             |  1510.62          |  1510.62  |  0   |  0                |  0.26428      |
|  58    |  832   |  22   |  9.43696        |  0.201948             |  2639.24          |  2606.56  |  3   |  32.6843          |  0.00860142   |
|  59    |  972   |  83   |  6.60572        |  0.29554              |  5964.47          |  5958.81  |  11  |  5.65367          |  0.924802     |
|  60    |  294   |  62   |  4.55567        |  0.00824559           |  1566.95          |  1565.02  |  2   |  1.92152          |  0.154708     |
|  61    |  255   |  39   |  8.75003        |  0.350437             |  1014.93          |  1014.93  |  0   |  0                |  0.0389207    |
|  62    |  214   |  16   |  2.82812        |  0.0809105            |  548.44           |  549.029  |  2   |  -0.588402        |  0.00224416   |
|  63    |  772   |  92   |  6.31554        |  0.366019             |  5000.81          |  4994.37  |  1   |  6.4441           |  0.975235     |
|  64    |  409   |  67   |  5.44136        |  0.187936             |  2334.94          |  2318.93  |  5   |  16.0129          |  0.284234     |
|  65    |  922   |  52   |  1.75385        |  0.239791             |  4269.91          |  4254.36  |  26  |  15.5468          |  0.175902     |
|  66    |  687   |  44   |  4.01128        |  0.131341             |  2965.33          |  2954.08  |  5   |  11.244           |  0.076646     |
|  67    |  517   |  69   |  9.45127        |  0.296741             |  2858.29          |  2858.29  |  0   |  0                |  0.337765     |
|  68    |  732   |  14   |  5.84228        |  0.37949              |  1683.85          |  1694.83  |  4   |  -10.9787         |  0.00445393   |
|  69    |  944   |  28   |  8.94296        |  0.225402             |  3391.53          |  3388.3   |  4   |  3.22789          |  0.0176583    |
|  70    |  158   |  21   |  0.399652       |  0.173033             |  540.832          |  529.83   |  6   |  11.0028          |  0.00472761   |
|  71    |  891   |  50   |  2.36993        |  0.126892             |  4654.66          |  4687.31  |  23  |  -32.6477         |  0.247775     |
|  72    |  500   |  64   |  3.81816        |  0.235845             |  2698.75          |  2721.24  |  10  |  -22.4913         |  0.270705     |
|  73    |  171   |  77   |  0.715637       |  0.158135             |  1042.77          |  1036.13  |  10  |  6.64736          |  0.138788     |
|  74    |  883   |  26   |  1.4109         |  0.0218876            |  3202.48          |  3237.08  |  11  |  -34.5957         |  0.0161949    |
|  75    |  932   |  70   |  1.81727        |  0.0663946            |  5102.3           |  5148.06  |  29  |  -45.7599         |  0.482008     |
|  76    |  840   |  96   |  3.75031        |  0.276835             |  5449.56          |  5491.89  |  25  |  -42.3271         |  1.33272      |
|  77    |  974   |  29   |  9.25287        |  0.260386             |  3647.37          |  3646.33  |  2   |  1.03902          |  0.014943     |
|  78    |  793   |  50   |  0.278891       |  0.105056             |  3525.74          |  3523.85  |  24  |  1.88695          |  0.157857     |
|  79    |  284   |  85   |  1.26488        |  0.383359             |  1812.03          |  1803.13  |  11  |  8.8974           |  0.342879     |
|  80    |  845   |  39   |  2.40821        |  0.362387             |  3772.24          |  3782.23  |  18  |  -9.99263         |  0.077831     |
|  81    |  188   |  49   |  9.4724         |  0.341136             |  943.365          |  943.365  |  0   |  0                |  0.0623255    |
|  82    |  407   |  69   |  9.01488        |  0.384821             |  2367.4           |  2367.4   |  0   |  0                |  0.313175     |
|  83    |  100   |  75   |  6.45271        |  0.245219             |  549.342          |  549.342  |  0   |  0                |  0.0648792    |
|  84    |  232   |  37   |  9.81196        |  0.192226             |  970.117          |  970.117  |  0   |  0                |  0.0336545    |
|  85    |  419   |  61   |  4.1414         |  0.0883957            |  2343.6           |  2352.67  |  9   |  -9.07136         |  0.221604     |
|  86    |  295   |  66   |  8.88777        |  0.340158             |  1701.98          |  1701.98  |  0   |  0                |  0.193167     |
|  87    |  825   |  73   |  7.70499        |  0.126475             |  4651.8           |  4650.55  |  5   |  1.25054          |  0.560167     |
|  88    |  717   |  52   |  4.49972        |  0.223597             |  3391.9           |  3361.81  |  7   |  30.0889          |  0.158517     |
|  89    |  654   |  47   |  1.59778        |  0.0288321            |  3107.8           |  3077.39  |  10  |  30.4081          |  0.0934022    |
|  90    |  162   |  48   |  6.05135        |  0.207444             |  792.099          |  792.099  |  0   |  0                |  0.0549006    |
|  91    |  384   |  77   |  4.76218        |  0.316232             |  2329.51          |  2326.57  |  1   |  2.94086          |  0.382195     |
|  92    |  200   |  68   |  9.52017        |  0.385734             |  1110.69          |  1110.69  |  0   |  0                |  0.132636     |
|  93    |  689   |  71   |  2.90123        |  0.158406             |  3945.72          |  3962.59  |  21  |  -16.8774         |  0.49         |
|  94    |  884   |  98   |  4.78128        |  0.295698             |  5955.23          |  5918.44  |  15  |  36.7924          |  1.40385      |
|  95    |  471   |  61   |  6.30631        |  0.0388896            |  2546.72          |  2548.19  |  7   |  -1.47422         |  0.251373     |
|  96    |  159   |  92   |  3.48919        |  0.150729             |  1045.62          |  1045.62  |  0   |  0                |  0.17396      |
|  97    |  978   |  66   |  1.85956        |  0.203047             |  5326.04          |  5347.6   |  26  |  -21.5654         |  0.431031     |
|  98    |  669   |  15   |  0.834818       |  0.0205567            |  1748.97          |  1726.29  |  4   |  22.6769          |  0.00206268   |
|  99    |  462   |  57   |  6.42981        |  0.396193             |  2352.58          |  2352.58  |  0   |  0                |  0.16779      |
|  100   |  290   |  24   |  0.743751       |  0.108745             |  749.729          |  732.202  |  5   |  17.5272          |  0.00700005   |

</details>

`cf3da616c17901e5b5d5b40187ef6bb66f94dcfc` 提出。
とりあえず山登りしたもの。
なんというか普通に書いたやつ。
でも27位は厳しすぎる。
どうしよう。
分からない。
複数あった順位表の団子がひとつになってる。
団子の構成員がmergeされてるのなんで。

<details>
<summary>score表 d2ccba14f97246981423b74a695e65e9046dafa3</summary>

-   average of reference delta = 8

|  seed  |  S     |  NC   |  junction_cost  |  failure_probability  |  reference_score  |  score    |  NJ  |  reference_delta  |  elapsed      |
|--------|--------|-------|-----------------|-----------------------|-------------------|-----------|------|-------------------|---------------|
|  1     |  100   |  10   |  0              |  0                    |  211.799          |  206.697  |  1   |  5.10136          |  0.000753092  |
|  2     |  1000  |  100  |  10             |  0.4                  |  7076.41          |  7069.4   |  1   |  7.01586          |  1.65184      |
|  3     |  681   |  29   |  1.19683        |  0.219465             |  2650.32          |  2637.58  |  2   |  12.7387          |  0.0165078    |
|  4     |  651   |  83   |  1.73856        |  0.234257             |  3860.76          |  3848.87  |  2   |  11.8927          |  0.655484     |
|  5     |  203   |  59   |  0.485986       |  0.318834             |  1145.17          |  1140.47  |  2   |  4.69971          |  0.114687     |
|  6     |  159   |  36   |  6.19182        |  0.133476             |  602.476          |  602.476  |  0   |  0                |  0.019892     |
|  7     |  992   |  54   |  3.05834        |  0.222134             |  4615.96          |  4622.08  |  2   |  -6.11668         |  0.18205      |
|  8     |  290   |  30   |  5.06014        |  0.0833835            |  1029.27          |  1029.27  |  0   |  0                |  0.0139718    |
|  9     |  352   |  74   |  8.31999        |  0.355557             |  2075.8           |  2075.8   |  0   |  0                |  0.321473     |
|  10    |  612   |  41   |  0.214048       |  0.34114              |  2705.94          |  2688.44  |  4   |  17.4933          |  0.0700287    |
|  11    |  638   |  46   |  3.62507        |  0.0876584            |  2863.82          |  2857.22  |  1   |  6.60189          |  0.0850971    |
|  12    |  725   |  86   |  3.3736         |  0.26382              |  4406.18          |  4409.56  |  1   |  -3.3736          |  0.835982     |
|  13    |  463   |  43   |  8.45917        |  0.281464             |  2071.32          |  2071.32  |  0   |  0                |  0.0679489    |
|  14    |  132   |  22   |  8.10864        |  0.292175             |  455.443          |  455.443  |  0   |  0                |  0.00418799   |
|  15    |  809   |  76   |  5.21673        |  0.207705             |  4839.52          |  4826.23  |  1   |  13.2952          |  0.596943     |
|  16    |  747   |  65   |  3.34758        |  0.0271153            |  3851.48          |  3835.94  |  1   |  15.5397          |  0.362566     |
|  17    |  453   |  15   |  9.39138        |  0.363217             |  1368.78          |  1355.63  |  1   |  13.1481          |  0.00476118   |
|  18    |  394   |  50   |  4.57993        |  0.0602296            |  1753.25          |  1745.18  |  1   |  8.07022          |  0.104137     |
|  19    |  424   |  10   |  5.98642        |  0.0195443            |  755.232          |  742.185  |  1   |  13.0472          |  0.00212073   |
|  20    |  586   |  93   |  4.29216        |  0.179694             |  4194.97          |  4186.09  |  1   |  8.88184          |  0.983231     |
|  21    |  111   |  92   |  6.18773        |  0.374979             |  688.366          |  688.366  |  0   |  0                |  0.103952     |
|  22    |  652   |  54   |  4.17726        |  0.158484             |  3356.2           |  3338.81  |  1   |  17.3931          |  0.19108      |
|  23    |  386   |  35   |  5.333          |  0.313822             |  1460.57          |  1454.68  |  1   |  5.89542          |  0.0339746    |
|  24    |  747   |  46   |  5.98039        |  0.330563             |  3533.73          |  3515.81  |  1   |  17.919           |  0.122145     |
|  25    |  599   |  69   |  0.438833       |  0.359372             |  3346.57          |  3336.16  |  3   |  10.4095          |  0.378337     |
|  26    |  595   |  66   |  4.29018        |  0.356701             |  3312.26          |  3300.31  |  1   |  11.9469          |  0.377381     |
|  27    |  916   |  93   |  8.99019        |  0.0844748            |  6114.55          |  6107.41  |  1   |  7.13756          |  1.22382      |
|  28    |  418   |  50   |  9.05043        |  0.376639             |  2141.44          |  2141.44  |  0   |  0                |  0.113569     |
|  29    |  526   |  17   |  5.96958        |  0.193245             |  1763.78          |  1752.87  |  1   |  10.9073          |  0.00295408   |
|  30    |  989   |  52   |  7.33554        |  0.181162             |  4833.05          |  4822.35  |  1   |  10.6988          |  0.164313     |
|  31    |  889   |  89   |  2.12542        |  0.144358             |  5957.45          |  5938.13  |  2   |  19.3192          |  1.26133      |
|  32    |  119   |  10   |  6.91145        |  0.171263             |  322.868          |  322.868  |  0   |  0                |  0.000685514  |
|  33    |  780   |  70   |  8.90866        |  0.332704             |  4174.82          |  4169.82  |  1   |  4.99849          |  0.421797     |
|  34    |  253   |  22   |  4.7433         |  0.218495             |  894.603          |  883.829  |  1   |  10.7741          |  0.00609802   |
|  35    |  971   |  96   |  4.81178        |  0.198557             |  6231.32          |  6236.13  |  1   |  -4.81178         |  1.39598      |
|  36    |  915   |  92   |  3.10678        |  0.163317             |  6158.92          |  6140.68  |  2   |  18.2356          |  1.5777       |
|  37    |  545   |  56   |  8.53145        |  0.344125             |  2498.38          |  2492.18  |  1   |  6.20887          |  0.17627      |
|  38    |  944   |  38   |  9.56239        |  0.0884913            |  4065.27          |  4056.37  |  1   |  8.89509          |  0.045133     |
|  39    |  795   |  48   |  5.90049        |  0.382981             |  3740.64          |  3746.54  |  1   |  -5.90049         |  0.112139     |
|  40    |  661   |  62   |  6.58611        |  0.392874             |  3354.46          |  3335.58  |  1   |  18.8769          |  0.285427     |
|  41    |  905   |  83   |  1.10634        |  0.0719624            |  5506.82          |  5490.57  |  2   |  16.2538          |  0.834312     |
|  42    |  793   |  34   |  1.91818        |  0.0745493            |  2802.91          |  2786.27  |  1   |  16.642           |  0.0397655    |
|  43    |  635   |  71   |  8.94074        |  0.107323             |  3444.94          |  3437.25  |  1   |  7.69375          |  0.414597     |
|  44    |  100   |  73   |  4.84695        |  0.244568             |  575.775          |  575.775  |  0   |  0                |  0.0614205    |
|  45    |  102   |  39   |  5.2517         |  0.111105             |  483.439          |  483.439  |  0   |  0                |  0.0205514    |
|  46    |  855   |  34   |  4.00221        |  0.136547             |  3741.47          |  3713.62  |  2   |  27.8574          |  0.124114     |
|  47    |  137   |  14   |  2.99751        |  0.188836             |  301.056          |  299.476  |  1   |  1.58049          |  0.0013248    |
|  48    |  447   |  92   |  7.83364        |  0.171961             |  2977.86          |  2967.67  |  1   |  10.195           |  0.758983     |
|  49    |  182   |  51   |  4.8496         |  0.0729895            |  809.078          |  809.078  |  0   |  0                |  0.0607171    |
|  50    |  811   |  44   |  9.82905        |  0.336282             |  3576.43          |  3586.26  |  1   |  -9.82905         |  0.113614     |
|  51    |  531   |  46   |  3.83671        |  0.199246             |  2564.27          |  2551.39  |  1   |  12.8785          |  0.104625     |
|  52    |  319   |  84   |  3.72433        |  0.372165             |  1936.22          |  1932.88  |  1   |  3.34362          |  0.366916     |
|  53    |  441   |  84   |  6.76474        |  0.197857             |  2746.55          |  2753.31  |  1   |  -6.76474         |  0.535132     |
|  54    |  700   |  79   |  8.38883        |  0.226232             |  4060.89          |  4046.69  |  1   |  14.2033          |  0.626392     |
|  55    |  116   |  43   |  3.24492        |  0.238288             |  525.939          |  525.939  |  0   |  0                |  0.0321741    |
|  56    |  957   |  65   |  5.55508        |  0.0697866            |  5422.59          |  5393.77  |  1   |  28.8194          |  0.357238     |
|  57    |  236   |  85   |  9.93316        |  0.305369             |  1510.62          |  1510.62  |  0   |  0                |  0.294084     |
|  58    |  832   |  22   |  9.43696        |  0.201948             |  2639.24          |  2616.1   |  1   |  23.1364          |  0.00821529   |
|  59    |  972   |  83   |  6.60572        |  0.29554              |  5964.47          |  5953.55  |  1   |  10.912           |  0.910565     |
|  60    |  294   |  62   |  4.55567        |  0.00824559           |  1566.95          |  1565.07  |  1   |  1.87732          |  0.155159     |
|  61    |  255   |  39   |  8.75003        |  0.350437             |  1014.93          |  1014.93  |  0   |  0                |  0.0386765    |
|  62    |  214   |  16   |  2.82812        |  0.0809105            |  548.44           |  540.023  |  1   |  8.41689          |  0.00212395   |
|  63    |  772   |  92   |  6.31554        |  0.366019             |  5000.81          |  4994.37  |  1   |  6.4441           |  1.06587      |
|  64    |  409   |  67   |  5.44136        |  0.187936             |  2334.94          |  2329.53  |  1   |  5.40884          |  0.28614      |
|  65    |  922   |  52   |  1.75385        |  0.239791             |  4269.91          |  4253.31  |  2   |  16.601           |  0.165248     |
|  66    |  687   |  44   |  4.01128        |  0.131341             |  2965.33          |  2955.85  |  1   |  9.48133          |  0.076926     |
|  67    |  517   |  69   |  9.45127        |  0.296741             |  2858.29          |  2858.29  |  0   |  0                |  0.338816     |
|  68    |  732   |  14   |  5.84228        |  0.37949              |  1683.85          |  1661.82  |  2   |  22.0313          |  0.00459205   |
|  69    |  944   |  28   |  8.94296        |  0.225402             |  3391.53          |  3379.08  |  1   |  12.4512          |  0.017772     |
|  70    |  158   |  21   |  0.399652       |  0.173033             |  540.832          |  536.552  |  2   |  4.28022          |  0.00449866   |
|  71    |  891   |  50   |  2.36993        |  0.126892             |  4654.66          |  4623.27  |  2   |  31.3912          |  0.228002     |
|  72    |  500   |  64   |  3.81816        |  0.235845             |  2698.75          |  2692.17  |  1   |  6.5789           |  0.272386     |
|  73    |  171   |  77   |  0.715637       |  0.158135             |  1042.77          |  1039.96  |  1   |  2.81318          |  0.138858     |
|  74    |  883   |  26   |  1.4109         |  0.0218876            |  3202.48          |  3186.67  |  1   |  15.8143          |  0.0151364    |
|  75    |  932   |  70   |  1.81727        |  0.0663946            |  5102.3           |  5104.11  |  1   |  -1.81727         |  0.478384     |
|  76    |  840   |  96   |  3.75031        |  0.276835             |  5449.56          |  5437.2   |  2   |  12.3623          |  1.59805      |
|  77    |  974   |  29   |  9.25287        |  0.260386             |  3647.37          |  3637.08  |  1   |  10.2919          |  0.0149737    |
|  78    |  793   |  50   |  0.278891       |  0.105056             |  3525.74          |  3505.85  |  2   |  19.8877          |  0.152304     |
|  79    |  284   |  85   |  1.26488        |  0.383359             |  1812.03          |  1809.11  |  2   |  2.92009          |  0.372165     |
|  80    |  845   |  39   |  2.40821        |  0.362387             |  3772.24          |  3742.44  |  3   |  29.8028          |  0.108616     |
|  81    |  188   |  49   |  9.4724         |  0.341136             |  943.365          |  943.365  |  0   |  0                |  0.0635501    |
|  82    |  407   |  69   |  9.01488        |  0.384821             |  2367.4           |  2367.4   |  0   |  0                |  0.432622     |
|  83    |  100   |  75   |  6.45271        |  0.245219             |  549.342          |  549.342  |  0   |  0                |  0.0662077    |
|  84    |  232   |  37   |  9.81196        |  0.192226             |  970.117          |  970.117  |  0   |  0                |  0.0414009    |
|  85    |  419   |  61   |  4.1414         |  0.0883957            |  2343.6           |  2347.74  |  1   |  -4.1414          |  0.288725     |
|  86    |  295   |  66   |  8.88777        |  0.340158             |  1701.98          |  1701.98  |  0   |  0                |  0.214724     |
|  87    |  825   |  73   |  7.70499        |  0.126475             |  4651.8           |  4640.21  |  1   |  11.5932          |  0.593918     |
|  88    |  717   |  52   |  4.49972        |  0.223597             |  3391.9           |  3377.34  |  1   |  14.5607          |  0.168663     |
|  89    |  654   |  47   |  1.59778        |  0.0288321            |  3107.8           |  3089.08  |  1   |  18.7183          |  0.0966635    |
|  90    |  162   |  48   |  6.05135        |  0.207444             |  792.099          |  792.099  |  0   |  0                |  0.0541973    |
|  91    |  384   |  77   |  4.76218        |  0.316232             |  2329.51          |  2326.57  |  1   |  2.94086          |  0.385369     |
|  92    |  200   |  68   |  9.52017        |  0.385734             |  1110.69          |  1110.69  |  0   |  0                |  0.130116     |
|  93    |  689   |  71   |  2.90123        |  0.158406             |  3945.72          |  3928.63  |  2   |  17.0865          |  0.468934     |
|  94    |  884   |  98   |  4.78128        |  0.295698             |  5955.23          |  5938.47  |  2   |  16.7591          |  1.52353      |
|  95    |  471   |  61   |  6.30631        |  0.0388896            |  2546.72          |  2542.19  |  1   |  4.52958          |  0.249        |
|  96    |  159   |  92   |  3.48919        |  0.150729             |  1045.62          |  1045.62  |  0   |  0                |  0.181207     |
|  97    |  978   |  66   |  1.85956        |  0.203047             |  5326.04          |  5306.11  |  2   |  19.9288          |  0.503859     |
|  98    |  669   |  15   |  0.834818       |  0.0205567            |  1748.97          |  1725.58  |  1   |  23.3904          |  0.00206058   |
|  99    |  462   |  57   |  6.42981        |  0.396193             |  2352.58          |  2352.58  |  0   |  0                |  0.187048     |
|  100   |  290   |  24   |  0.743751       |  0.108745             |  749.729          |  744.966  |  1   |  4.76272          |  0.00796561   |

</details>

`d2ccba14f97246981423b74a695e65e9046dafa3`。
交差点の干渉を減らした。
表を見ると明らかに改善してる。
提出はあと40分待ってとのことなので寝る。
2018年  5月 11日 金曜日 04:16:10 JST。

<details>
<summary>順位表 2018年  5月 11日 金曜日 21:31:36 JST d2ccba14f97246981423b74a695e65e9046dafa3</summary>

| Handle           | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|------------------|------------|-------|--------------------------|-----------|----------------|--------------|
| okazaki          | 997336.93  | 1     | 05.11.2018 07:55:19 EST  | Java      | 0              | 4            |
| mugurelionut     | 997172.37  | 2     | 05.11.2018 03:11:10 EST  | C++       | 9              | 6            |
| wleite           | 997035.84  | 3     | 05.11.2018 02:12:41 EST  | Java      | 2              | 2            |
| sdya             | 997008.98  | 4     | 05.11.2018 00:48:14 EST  | C++       | 6              | 5            |
| Psyho            | 996818.19  | 5     | 05.11.2018 01:29:13 EST  | C++       | 1              | 3            |
| chokudai         | 996377.77  | 6     | 05.11.2018 05:34:08 EST  | C#        | 3              | 4            |
| AlexeyProkopnev  | 996322.73  | 7     | 05.11.2018 08:10:24 EST  | Java      | 6              | 5            |
| Errichto         | 996276.85  | 8     | 05.10.2018 19:20:24 EST  | C++       | 4              | 3            |
| imazato          | 996197.11  | 9     | 05.10.2018 11:47:35 EST  | C++       | 1              | 1            |
| PaulJefferys     | 995865.75  | 10    | 05.11.2018 08:04:13 EST  | C++       | 2              | 2            |
| marek.cygan      | 995830.42  | 11    | 05.11.2018 08:06:27 EST  | C++       | 6              | 4            |
| JacoCronje       | 995739.82  | 12    | 05.10.2018 14:52:05 EST  | C++       | 2              | 2            |
| Masa-Y           | 995598.89  | 13    | 05.10.2018 17:36:56 EST  | C++       | 7              | 6            |
| kurenai3110      | 995455.91  | 14    | 05.11.2018 06:45:33 EST  | C++       | 5              | 5            |
| USERHACKER       | 995419.86  | 15    | 05.11.2018 05:34:26 EST  | C++       | 9              | 5            |
| windhunterSB     | 995342.27  | 16    | 05.11.2018 05:38:17 EST  | C++       | 6              | 6            |
| gorbunov         | 995238.13  | 17    | 05.10.2018 19:50:08 EST  | C++       | 4              | 5            |
| fetetriste       | 995216.99  | 18    | 05.11.2018 06:56:36 EST  | Java      | 4              | 4            |
| tourist          | 995083.30  | 19    | 05.11.2018 06:45:33 EST  | C++       | 1              | 1            |
| yuuki            | 994978.97  | 20    | 05.11.2018 06:06:30 EST  | C++       | 1              | 1            |
| CatalinT         | 994821.75  | 21    | 05.11.2018 05:35:05 EST  | C++       | 4              | 4            |
| sas4eka          | 994414.66  | 22    | 05.11.2018 07:02:33 EST  | C++       | 15             | 8            |
| simanman         | 994377.91  | 23    | 05.11.2018 07:05:50 EST  | C++       | 2              | 2            |
| yowa             | 993945.43  | 24    | 05.10.2018 13:01:28 EST  | C++       | 3              | 3            |
| qwerty787788     | 993717.52  | 25    | 05.10.2018 16:55:36 EST  | Java      | 1              | 1            |
| senya0126        | 993527.33  | 26    | 05.11.2018 07:05:44 EST  | C++       | 2              | 2            |
| nika             | 993490.03  | 27    | 05.11.2018 00:17:55 EST  | C++       | 0              | 3            |
| EvbCFfp1XB       | 993281.66  | 28    | 05.10.2018 12:14:09 EST  | Java      | 2              | 2            |
| kishore_g84      | 993263.43  | 29    | 05.11.2018 04:03:05 EST  | Java      | 2              | 3            |
| mhora            | 993161.86  | 30    | 05.11.2018 03:38:28 EST  | C++       | 2              | 2            |
| rng_58           | 993160.19  | 31    | 05.10.2018 10:06:59 EST  | C++       | 1              | 1            |
| bduvenhage       | 992496.23  | 32    | 05.11.2018 02:34:59 EST  | C++       | 2              | 2            |
| keymoon          | 992230.34  | 33    | 05.11.2018 04:32:56 EST  | C#        | 2              | 3            |
| carlop           | 991995.41  | 34    | 05.11.2018 04:50:42 EST  | C++       | 0              | 1            |
| Jeffrey.Ho       | 991702.78  | 35    | 05.11.2018 03:15:10 EST  | C++       | 6              | 4            |
| iwashi31         | 991480.94  | 36    | 05.10.2018 12:41:47 EST  | C++       | 0              | 1            |
| kotamanegi       | 990812.37  | 37    | 05.10.2018 11:41:58 EST  | C++       | 3              | 2            |
| SimonM           | 990665.27  | 38    | 05.10.2018 18:16:08 EST  | C++       | 6              | 3            |
| rantd            | 990647.69  | 39    | 05.10.2018 20:59:33 EST  | C++       | 2              | 4            |
| maniek           | 990406.83  | 40    | 05.11.2018 08:08:22 EST  | C++       | 2              | 4            |
| eris_c           | 990106.52  | 41    | 05.10.2018 12:43:19 EST  | C++       | 4              | 2            |
| mamekin          | 990051.52  | 42    | 05.10.2018 10:31:44 EST  | C++       | 2              | 2            |
| fal_rnd          | 989845.58  | 43    | 05.11.2018 07:26:22 EST  | Java      | 3              | 3            |
| tanzaku          | 989579.79  | 44    | 05.10.2018 12:27:28 EST  | Java      | 2              | 1            |
| Kriii            | 989277.16  | 45    | 05.10.2018 11:36:25 EST  | C++       | 1              | 2            |
| my316g           | 989273.13  | 46    | 05.10.2018 21:36:02 EST  | C++       | 4              | 3            |
| assy0000         | 988960.92  | 47    | 05.10.2018 08:39:48 EST  | C++       | 5              | 4            |
| masakt           | 988859.92  | 48    | 05.11.2018 07:48:17 EST  | C++       | 3              | 3            |
| Wajeb            | 988166.36  | 49    | 05.11.2018 04:02:38 EST  | C++       | 6              | 3            |
| skrzypl1         | 986947.60  | 50    | 05.10.2018 14:31:17 EST  | C#        | 2              | 2            |
| kimiyuki         | 986857.44  | 51    | 05.10.2018 16:05:25 EST  | C++       | 3              | 3            |
| ichyo            | 986166.93  | 52    | 05.11.2018 08:17:33 EST  | C++       | 1              | 2            |
| mcw1142          | 983985.25  | 53    | 05.10.2018 21:57:05 EST  | Java      | 2              | 2            |
| Pag2             | 983886.97  | 54    | 05.11.2018 03:15:25 EST  | C++       | 3              | 3            |
| m_dz             | 983786.56  | 55    | 05.11.2018 01:09:15 EST  | C++       | 5              | 4            |
| sidekick         | 983540.03  | 56    | 05.11.2018 04:16:54 EST  | Java      | 1              | 2            |
| kuuso1           | 983354.18  | 57    | 05.10.2018 12:38:05 EST  | C#        | 1              | 1            |
| daisyo           | 982728.27  | 58    | 05.10.2018 21:41:17 EST  | C++       | 6              | 5            |
| a781491820       | 982645.21  | 59    | 05.11.2018 07:23:08 EST  | C++       | 2              | 4            |
| asmn             | 982645.21  | 59    | 05.11.2018 02:20:45 EST  | Java      | 1              | 1            |
| Astein           | 982645.21  | 59    | 05.10.2018 20:18:27 EST  | C++       | 1              | 1            |
| aytawgf          | 982645.21  | 59    | 05.10.2018 21:32:29 EST  | C++       | 5              | 3            |
| babybuffalo      | 982645.21  | 59    | 05.11.2018 04:28:54 EST  | C++       | 6              | 3            |
| belloyang        | 982645.21  | 59    | 05.11.2018 07:13:44 EST  | C++       | 2              | 2            |
| fiord            | 982645.21  | 59    | 05.10.2018 14:30:31 EST  | C++       | 1              | 1            |
| fluffyowl        | 982645.21  | 59    | 05.10.2018 02:21:10 EST  | C++       | 2              | 1            |
| fmhr             | 982645.21  | 59    | 05.11.2018 04:33:10 EST  | C++       | 1              | 1            |
| hirokazu         | 982645.21  | 59    | 05.10.2018 10:51:20 EST  | C++       | 1              | 1            |
| kossi_tg         | 982645.21  | 59    | 05.10.2018 08:25:38 EST  | Java      | 0              | 1            |
| krismaz          | 982645.21  | 59    | 05.10.2018 18:41:39 EST  | C++       | 1              | 1            |
| Lozy             | 982645.21  | 59    | 05.10.2018 01:21:36 EST  | C++       | 1              | 1            |
| mihaly           | 982645.21  | 59    | 05.11.2018 05:41:17 EST  | Python    | 3              | 2            |
| mstr             | 982645.21  | 59    | 05.10.2018 12:35:09 EST  | Java      | 1              | 1            |
| neetsdkasu       | 982645.21  | 59    | 05.11.2018 04:36:44 EST  | VB        | 1              | 1            |
| nicklaw296       | 982645.21  | 59    | 05.10.2018 23:04:09 EST  | C++       | 2              | 2            |
| scott_wu         | 982645.21  | 59    | 05.09.2018 21:28:01 EST  | C++       | 1              | 1            |
| shamal           | 982645.21  | 59    | 05.10.2018 04:45:23 EST  | C++       | 1              | 1            |
| shilov           | 982645.21  | 59    | 05.10.2018 13:38:17 EST  | Java      | 1              | 1            |
| shin_taku        | 982645.21  | 59    | 05.10.2018 07:34:55 EST  | C++       | 2              | 1            |
| southpolenator   | 982645.21  | 59    | 05.10.2018 16:25:00 EST  | C#        | 1              | 1            |
| Taiyo..          | 982645.21  | 59    | 05.10.2018 10:58:04 EST  | C++       | 1              | 1            |
| tehnar           | 982645.21  | 59    | 05.10.2018 08:52:32 EST  | C++       | 1              | 1            |
| TSakai           | 982645.21  | 59    | 05.10.2018 10:41:22 EST  | C++       | 1              | 1            |
| vdave            | 982645.21  | 59    | 05.11.2018 06:11:32 EST  | C++       | 1              | 1            |
| xyz600           | 982645.21  | 59    | 05.10.2018 10:48:33 EST  | C++       | 1              | 1            |
| y_kawano         | 982645.21  | 59    | 05.10.2018 14:58:51 EST  | C++       | 1              | 2            |
| Zhiheng          | 982645.21  | 59    | 05.10.2018 14:25:31 EST  | C++       | 1              | 1            |
| kt_tenel         | 982093.31  | 88    | 05.10.2018 06:22:44 EST  | C++       | 1              | 1            |
| vlad_D           | 982062.49  | 89    | 05.10.2018 01:33:59 EST  | C++       | 2              | 1            |
| NEU20133823      | 975989.71  | 90    | 05.10.2018 23:54:52 EST  | C++       | 3              | 5            |
| Daiver19         | 966155.61  | 91    | 05.11.2018 02:08:28 EST  | C++       | 3              | 2            |
| tygrysek         | 869897.90  | 92    | 05.10.2018 14:18:36 EST  | C++       | 1              | 1            |
|  yuya178         | 801711.21  | 93    | 05.11.2018 07:20:34 EST  | Java      | 3              | 2            |
| kazuya030        | 671996.58  | 94    | 05.11.2018 04:37:06 EST  | Python    | 2              | 2            |
| homesentinel     | 642329.30  | 95    | 05.11.2018 02:22:17 EST  | C++       | 1              | 2            |
| cheaps           | 353294.55  | 96    | 05.10.2018 23:26:49 EST  | C++       | 2              | 1            |
| ceni1055         | 73664.85   | 97    | 05.10.2018 09:25:59 EST  | C++       | 2              | 2            |
| moshu            | 50970.32   | 98    | 05.11.2018 07:20:54 EST  | C++       | 2              | 2            |
| NobuMiu          | 49105.74   | 99    | 05.09.2018 21:20:25 EST  | C++       | 1              | 1            |
| jfguo            | 38985.58   | 100   | 05.11.2018 07:52:55 EST  | C++       | 2              | 1            |
| alittlezz        | 12214.34   | 101   | 05.10.2018 12:06:00 EST  | C++       | 1              | 1            |
| baseballnut      | 12214.34   | 101   | 05.10.2018 12:33:47 EST  | Java      | 1              | 1            |
| id               | 12214.34   | 101   | 05.10.2018 13:19:47 EST  | C#        | 1              | 1            |
| PnumaSON         | 12214.34   | 101   | 05.10.2018 09:37:12 EST  | C++       | 0              | 1            |
| promien          | 12214.34   | 101   | 05.10.2018 13:48:44 EST  | Java      | 1              | 1            |
| pkhomchuk        | 4.18       | 106   | 05.10.2018 18:27:29 EST  | C++       | 3              | 3            |
| eiya             | 0.00       | 107   | 05.11.2018 05:15:41 EST  | C++       | 1              | 1            |

</details>

2018年  5月 11日 金曜日 21:21:35 JST。
起きました。
布団に入ってから2時間ぐらいは起きてた気がするため実際は15時間ぐらい。
眠たかったから布団に入ったはずなのだが。
順位もぜんぜん改善しなかった。
団子のちょっと上からもうちょっとだけ上になっただけ。

現在は実行時間がすごく余ってる。
すごく余ってるから計測すらしてないが、悪意のあるケースはないので大丈夫でしょう。
もっとたくさん使っていきたい。
ふたつの交差点を使うことでさらに改善されるようなケースがありえる。
でも可視化を見るに実際ほぼなさそう。

玉を重心に落とすのでなくて三角形の角の3箇所に落とすのはどうか。
もっとそのまま交差点の位置を焼き鈍すのはどうか。
交差点の複数建設はそれら同士を繋ぐのにもわずかに費用を取られる。

51位ってさすがにひどすぎる。
rating予想も -88.87 とか言ってるし人生終了しそう。
いやそれにしても悪すぎる。
何か誤読とかしてそう -> 誤読警戒として機械翻訳でも確認してみたが特になさそう: <https://translate.google.com/translate?hl=en&sl=auto&tl=ja&u=https%3A%2F%2Fcommunity.topcoder.com%2Flongcontest%2F%3Fmodule%3DViewProblemStatement%26rd%3D17153%26pm%3D14907>。
1位とは 0.0105e6 点差なので1問WAしてるとかないだろうか -> 1000ケース回してそうでなかったのでたぶん違う。
自主申告とtester判断とのずれ -> いいえ。

### 5/12

日付更新。

Angel Beats!の残りを見た。
終盤の評判が悪いのを知っていたため見るのを渋っていたが、点数が出ないので逃避としてついに見た。
ちゃんと終わらせてくれた良い最終回だった。
最終回Cパートだけはどうにも蛇足だった気がするので見なかったことにしたい。
全体としてもとても良いアニメだった。
最終回の最後にひとつすっきりしない点があったが、後から「生きて「運命に立ち向かう」という筋は最初からあったでしょ」という指摘を見て納得できた。
つい「死は救済」という側のそれに流されてしまって忘れていた。
この点は灰羽連盟との差分なのかなあとも思うが、しばらく見てないので細部を忘れておりよく分からず。
あっちもまた見たい。
私もはやく卒業したい。
順位が悪いので日記が日記になってる。
こんな順位のままでは卒業できないのでなんとか頑張りたい。

現状での差分の極大点の列挙は十分尽くせているらしい。
山登りの開始点をもっと増やしてみたが変わらなかったため。
つまり交差点の配置の候補の列挙はすべて済んでいて、どれを使うかの選択が悪いということか。

<details>
<summary>score表 2d54d52e7137702eac2fd6011a1d3cbf3893729b</summary>

-   average of reference delta = 23.388585439999993

|  seed  |  S     |  NC   |  junction_cost  |  failure_probability  |  reference_score  |  score    |  NJ  |  reference_delta  |  elapsed      |
|--------|--------|-------|-----------------|-----------------------|-------------------|-----------|------|-------------------|---------------|
|  1     |  100   |  10   |  0              |  0                    |  211.799          |  205.014  |  2   |  6.78456          |  0.00108098   |
|  2     |  1000  |  100  |  10             |  0.4                  |  7076.41          |  7069.4   |  1   |  7.01586          |  1.63503      |
|  3     |  681   |  29   |  1.19683        |  0.219465             |  2650.32          |  2616.34  |  11  |  33.9854          |  0.0163392    |
|  4     |  651   |  83   |  1.73856        |  0.234257             |  3860.76          |  3830.1   |  15  |  30.655           |  0.653979     |
|  5     |  203   |  59   |  0.485986       |  0.318834             |  1145.17          |  1117.77  |  24  |  27.3986          |  0.116319     |
|  6     |  159   |  36   |  6.19182        |  0.133476             |  602.476          |  602.476  |  0   |  0                |  0.0198055    |
|  7     |  992   |  54   |  3.05834        |  0.222134             |  4615.96          |  4568.09  |  15  |  47.8716          |  0.179668     |
|  8     |  290   |  30   |  5.06014        |  0.0833835            |  1029.27          |  1029.27  |  0   |  0                |  0.0141853    |
|  9     |  352   |  74   |  8.31999        |  0.355557             |  2075.8           |  2075.8   |  0   |  0                |  0.318068     |
|  10    |  612   |  41   |  0.214048       |  0.34114              |  2705.94          |  2629.08  |  30  |  76.8534          |  0.0678313    |
|  11    |  638   |  46   |  3.62507        |  0.0876584            |  2863.82          |  2851     |  3   |  12.8238          |  0.0830797    |
|  12    |  725   |  86   |  3.3736         |  0.26382              |  4406.18          |  4387.15  |  14  |  19.0363          |  0.84263      |
|  13    |  463   |  43   |  8.45917        |  0.281464             |  2071.32          |  2071.32  |  0   |  0                |  0.0669346    |
|  14    |  132   |  22   |  8.10864        |  0.292175             |  455.443          |  455.443  |  0   |  0                |  0.00412402   |
|  15    |  809   |  76   |  5.21673        |  0.207705             |  4839.52          |  4811.85  |  10  |  27.672           |  0.608685     |
|  16    |  747   |  65   |  3.34758        |  0.0271153            |  3851.48          |  3787.42  |  13  |  64.0587          |  0.380423     |
|  17    |  453   |  15   |  9.39138        |  0.363217             |  1368.78          |  1347.76  |  2   |  21.0201          |  0.00498901   |
|  18    |  394   |  50   |  4.57993        |  0.0602296            |  1753.25          |  1736.63  |  3   |  16.6146          |  0.101168     |
|  19    |  424   |  10   |  5.98642        |  0.0195443            |  755.232          |  734.299  |  2   |  20.9327          |  0.00216504   |
|  20    |  586   |  93   |  4.29216        |  0.179694             |  4194.97          |  4157.15  |  10  |  37.8274          |  0.951581     |
|  21    |  111   |  92   |  6.18773        |  0.374979             |  688.366          |  688.366  |  0   |  0                |  0.0988867    |
|  22    |  652   |  54   |  4.17726        |  0.158484             |  3356.2           |  3286.8   |  8   |  69.3967          |  0.186534     |
|  23    |  386   |  35   |  5.333          |  0.313822             |  1460.57          |  1454.68  |  1   |  5.89542          |  0.0321981    |
|  24    |  747   |  46   |  5.98039        |  0.330563             |  3533.73          |  3495.36  |  6   |  38.3737          |  0.126612     |
|  25    |  599   |  69   |  0.438833       |  0.359372             |  3346.57          |  3289.99  |  32  |  56.5813          |  0.374961     |
|  26    |  595   |  66   |  4.29018        |  0.356701             |  3312.26          |  3280.96  |  6   |  31.3015          |  0.398935     |
|  27    |  916   |  93   |  8.99019        |  0.0844748            |  6114.55          |  6081.19  |  8   |  33.3554          |  1.29052      |
|  28    |  418   |  50   |  9.05043        |  0.376639             |  2141.44          |  2141.44  |  0   |  0                |  0.113466     |
|  29    |  526   |  17   |  5.96958        |  0.193245             |  1763.78          |  1755.69  |  3   |  8.08951          |  0.00292379   |
|  30    |  989   |  52   |  7.33554        |  0.181162             |  4833.05          |  4815.97  |  6   |  17.0756          |  0.161678     |
|  31    |  889   |  89   |  2.12542        |  0.144358             |  5957.45          |  5844.38  |  24  |  113.07           |  1.27159      |
|  32    |  119   |  10   |  6.91145        |  0.171263             |  322.868          |  322.868  |  0   |  0                |  0.000622411  |
|  33    |  780   |  70   |  8.90866        |  0.332704             |  4174.82          |  4169.82  |  1   |  4.99849          |  0.414241     |
|  34    |  253   |  22   |  4.7433         |  0.218495             |  894.603          |  883.829  |  1   |  10.7741          |  0.00774642   |
|  35    |  971   |  96   |  4.81178        |  0.198557             |  6231.32          |  6161.22  |  14  |  70.0971          |  1.43147      |
|  36    |  915   |  92   |  3.10678        |  0.163317             |  6158.92          |  6071.04  |  21  |  87.8816          |  1.34385      |
|  37    |  545   |  56   |  8.53145        |  0.344125             |  2498.38          |  2492.18  |  1   |  6.20887          |  0.172829     |
|  38    |  944   |  38   |  9.56239        |  0.0884913            |  4065.27          |  4056.37  |  1   |  8.89509          |  0.0452899    |
|  39    |  795   |  48   |  5.90049        |  0.382981             |  3740.64          |  3749.05  |  5   |  -8.40945         |  0.108008     |
|  40    |  661   |  62   |  6.58611        |  0.392874             |  3354.46          |  3356.62  |  3   |  -2.1657          |  0.303005     |
|  41    |  905   |  83   |  1.10634        |  0.0719624            |  5506.82          |  5430.1   |  20  |  76.7206          |  0.821956     |
|  42    |  793   |  34   |  1.91818        |  0.0745493            |  2802.91          |  2762.02  |  6   |  40.8934          |  0.0365715    |
|  43    |  635   |  71   |  8.94074        |  0.107323             |  3444.94          |  3437.25  |  1   |  7.69375          |  0.387518     |
|  44    |  100   |  73   |  4.84695        |  0.244568             |  575.775          |  575.775  |  0   |  0                |  0.0606385    |
|  45    |  102   |  39   |  5.2517         |  0.111105             |  483.439          |  483.439  |  0   |  0                |  0.0199662    |
|  46    |  855   |  34   |  4.00221        |  0.136547             |  3741.47          |  3675.06  |  7   |  66.4093          |  0.119948     |
|  47    |  137   |  14   |  2.99751        |  0.188836             |  301.056          |  298.487  |  2   |  2.56903          |  0.00129088   |
|  48    |  447   |  92   |  7.83364        |  0.171961             |  2977.86          |  2964.88  |  2   |  12.9826          |  0.739925     |
|  49    |  182   |  51   |  4.8496         |  0.0729895            |  809.078          |  809.078  |  0   |  0                |  0.0593834    |
|  50    |  811   |  44   |  9.82905        |  0.336282             |  3576.43          |  3579.11  |  2   |  -2.68435         |  0.115447     |
|  51    |  531   |  46   |  3.83671        |  0.199246             |  2564.27          |  2539.61  |  9   |  24.6645          |  0.106387     |
|  52    |  319   |  84   |  3.72433        |  0.372165             |  1936.22          |  1932.88  |  1   |  3.34362          |  0.368383     |
|  53    |  441   |  84   |  6.76474        |  0.197857             |  2746.55          |  2748.19  |  3   |  -1.64443         |  0.53859      |
|  54    |  700   |  79   |  8.38883        |  0.226232             |  4060.89          |  4062.91  |  2   |  -2.01502         |  0.630738     |
|  55    |  116   |  43   |  3.24492        |  0.238288             |  525.939          |  525.939  |  0   |  0                |  0.0301534    |
|  56    |  957   |  65   |  5.55508        |  0.0697866            |  5422.59          |  5360.75  |  9   |  61.8319          |  0.353612     |
|  57    |  236   |  85   |  9.93316        |  0.305369             |  1510.62          |  1510.62  |  0   |  0                |  0.26655      |
|  58    |  832   |  22   |  9.43696        |  0.201948             |  2639.24          |  2606.56  |  3   |  32.6843          |  0.00840732   |
|  59    |  972   |  83   |  6.60572        |  0.29554              |  5964.47          |  5926.15  |  9   |  38.3189          |  0.922184     |
|  60    |  294   |  62   |  4.55567        |  0.00824559           |  1566.95          |  1565.02  |  2   |  1.92152          |  0.156032     |
|  61    |  255   |  39   |  8.75003        |  0.350437             |  1014.93          |  1014.93  |  0   |  0                |  0.0358952    |
|  62    |  214   |  16   |  2.82812        |  0.0809105            |  548.44           |  540.023  |  1   |  8.41689          |  0.00201814   |
|  63    |  772   |  92   |  6.31554        |  0.366019             |  5000.81          |  4994.37  |  1   |  6.4441           |  0.992339     |
|  64    |  409   |  67   |  5.44136        |  0.187936             |  2334.94          |  2318.93  |  5   |  16.0129          |  0.292335     |
|  65    |  922   |  52   |  1.75385        |  0.239791             |  4269.91          |  4209.42  |  19  |  60.4857          |  0.167063     |
|  66    |  687   |  44   |  4.01128        |  0.131341             |  2965.33          |  2934.78  |  4   |  30.5438          |  0.0735161    |
|  67    |  517   |  69   |  9.45127        |  0.296741             |  2858.29          |  2858.29  |  0   |  0                |  0.332752     |
|  68    |  732   |  14   |  5.84228        |  0.37949              |  1683.85          |  1667.78  |  3   |  16.071           |  0.00451816   |
|  69    |  944   |  28   |  8.94296        |  0.225402             |  3391.53          |  3388.3   |  4   |  3.22789          |  0.0174943    |
|  70    |  158   |  21   |  0.399652       |  0.173033             |  540.832          |  529.086  |  8   |  11.7465          |  0.00475829   |
|  71    |  891   |  50   |  2.36993        |  0.126892             |  4654.66          |  4530.36  |  13  |  124.297          |  0.221427     |
|  72    |  500   |  64   |  3.81816        |  0.235845             |  2698.75          |  2678.09  |  6   |  20.6579          |  0.269865     |
|  73    |  171   |  77   |  0.715637       |  0.158135             |  1042.77          |  1034.89  |  15  |  7.87762          |  0.139533     |
|  74    |  883   |  26   |  1.4109         |  0.0218876            |  3202.48          |  3146.64  |  6   |  55.8418          |  0.0156521    |
|  75    |  932   |  70   |  1.81727        |  0.0663946            |  5102.3           |  5021.72  |  18  |  80.5763          |  0.470387     |
|  76    |  840   |  96   |  3.75031        |  0.276835             |  5449.56          |  5410.49  |  18  |  39.0697          |  1.44124      |
|  77    |  974   |  29   |  9.25287        |  0.260386             |  3647.37          |  3646.33  |  2   |  1.03902          |  0.0156371    |
|  78    |  793   |  50   |  0.278891       |  0.105056             |  3525.74          |  3463.29  |  17  |  62.448           |  0.155251     |
|  79    |  284   |  85   |  1.26488        |  0.383359             |  1812.03          |  1805.56  |  10  |  6.47177          |  0.371186     |
|  80    |  845   |  39   |  2.40821        |  0.362387             |  3772.24          |  3723.9   |  13  |  48.3451          |  0.0755552    |
|  81    |  188   |  49   |  9.4724         |  0.341136             |  943.365          |  943.365  |  0   |  0                |  0.0653574    |
|  82    |  407   |  69   |  9.01488        |  0.384821             |  2367.4           |  2367.4   |  0   |  0                |  0.378127     |
|  83    |  100   |  75   |  6.45271        |  0.245219             |  549.342          |  549.342  |  0   |  0                |  0.0841392    |
|  84    |  232   |  37   |  9.81196        |  0.192226             |  970.117          |  970.117  |  0   |  0                |  0.0312688    |
|  85    |  419   |  61   |  4.1414         |  0.0883957            |  2343.6           |  2344.1   |  8   |  -0.498576        |  0.259194     |
|  86    |  295   |  66   |  8.88777        |  0.340158             |  1701.98          |  1701.98  |  0   |  0                |  0.235392     |
|  87    |  825   |  73   |  7.70499        |  0.126475             |  4651.8           |  4625.79  |  3   |  26.0104          |  0.630642     |
|  88    |  717   |  52   |  4.49972        |  0.223597             |  3391.9           |  3346.63  |  6   |  45.2742          |  0.156505     |
|  89    |  654   |  47   |  1.59778        |  0.0288321            |  3107.8           |  3065.25  |  9   |  42.5515          |  0.0911906    |
|  90    |  162   |  48   |  6.05135        |  0.207444             |  792.099          |  792.099  |  0   |  0                |  0.0526017    |
|  91    |  384   |  77   |  4.76218        |  0.316232             |  2329.51          |  2326.57  |  1   |  2.94086          |  0.383458     |
|  92    |  200   |  68   |  9.52017        |  0.385734             |  1110.69          |  1110.69  |  0   |  0                |  0.127162     |
|  93    |  689   |  71   |  2.90123        |  0.158406             |  3945.72          |  3886.52  |  13  |  59.201           |  0.482419     |
|  94    |  884   |  98   |  4.78128        |  0.295698             |  5955.23          |  5905.95  |  14  |  49.2825          |  1.51017      |
|  95    |  471   |  61   |  6.30631        |  0.0388896            |  2546.72          |  2533.23  |  6   |  13.4939          |  0.253622     |
|  96    |  159   |  92   |  3.48919        |  0.150729             |  1045.62          |  1045.62  |  0   |  0                |  0.181069     |
|  97    |  978   |  66   |  1.85956        |  0.203047             |  5326.04          |  5246.46  |  18  |  79.5841          |  0.430075     |
|  98    |  669   |  15   |  0.834818       |  0.0205567            |  1748.97          |  1710.71  |  3   |  38.2596          |  0.00192946   |
|  99    |  462   |  57   |  6.42981        |  0.396193             |  2352.58          |  2352.58  |  0   |  0                |  0.172381     |
|  100   |  290   |  24   |  0.743751       |  0.108745             |  749.729          |  732.202  |  5   |  17.5272          |  0.00714292   |

</details>


バグがあった。
ここ不等号の向きが逆: <https://github.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/blob/d2ccba14f97246981423b74a695e65e9046dafa3/RoadsAndJunctions.cpp#L250>。
結果として高々ひとつの交差点しか設置を試みないようになっており、しかし最良のものであるため一応は正の点が出てしまっていた。
これを修正すると干渉判定が雑すぎるがゆえに点数が悪化する。
コードを理解せず出力だけ見て雰囲気で書いていたのがよく分かる。
発見の決め手はあのplotだったのでやはり手を動かして可視化するのは大事ですね。
下図1枚目が修正前、3枚目がplotであり交差点の数が合わない。2枚目が修正後でこちらはよく対応が取れている。

1.  ![vis.10.d2ccba14f97246981423b74a695e65e9046dafa3.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/documents/images/vis.10.d2ccba14f97246981423b74a695e65e9046dafa3.png?token=ACGd-B9GvZUVN4q1BUkuxsXtPdELjUVHks5a_2vGwA%3D%3D)
1.  ![vis.10.2d54d52e7137702eac2fd6011a1d3cbf3893729b.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/documents/images/vis.10.2d54d52e7137702eac2fd6011a1d3cbf3893729b.png?token=ACGd-K7SGui_OmmOhLAOJMVNBIYnZe9-ks5a_2vIwA%3D%3D)
1.  ![grad.10.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/documents/images/grad.10.png?token=ACGd-JP-b_KLKBLHtoRMj40evz8_TG2Eks5a_2vawA%3D%3D)

<details>
<summary>順位表 2018年  5月 12日 土曜日 05:30:24 JST 2d54d52e7137702eac2fd6011a1d3cbf3893729b</summary>

| Handle           | Score      | Rank  | Last Submission Time     | Language  | Example Tests  | Submissions  |
|------------------|------------|-------|--------------------------|-----------|----------------|--------------|
| okazaki          | 997302.27  | 1     | 05.11.2018 14:37:02 EST  | Java      | 0              | 7            |
| Errichto         | 997117.18  | 2     | 05.11.2018 12:35:27 EST  | C++       | 5              | 4            |
| JacoCronje       | 996991.98  | 3     | 05.11.2018 10:15:22 EST  | C++       | 4              | 3            |
| wleite           | 996973.05  | 4     | 05.11.2018 02:12:41 EST  | Java      | 2              | 2            |
| Psyho            | 996836.16  | 5     | 05.11.2018 13:33:27 EST  | C++       | 1              | 5            |
| marek.cygan      | 996744.05  | 6     | 05.11.2018 15:17:30 EST  | C++       | 8              | 6            |
| hakomo           | 996694.81  | 7     | 05.11.2018 09:14:21 EST  | C++       | 1              | 1            |
| imazato          | 996629.51  | 8     | 05.11.2018 13:33:30 EST  | C++       | 6              | 3            |
| sdya             | 996477.08  | 9     | 05.11.2018 16:16:51 EST  | C++       | 8              | 7            |
| atsT5515         | 996382.87  | 10    | 05.11.2018 10:10:56 EST  | C++       | 1              | 1            |
| chokudai         | 996315.26  | 11    | 05.11.2018 05:34:08 EST  | C#        | 3              | 4            |
| kimiyuki         | 996097.35  | 12    | 05.11.2018 16:28:14 EST  | C++       | 4              | 4            |
| tourist          | 995893.73  | 13    | 05.11.2018 11:07:54 EST  | C++       | 3              | 3            |
| Daiver19         | 995841.50  | 14    | 05.11.2018 11:23:43 EST  | C++       | 3              | 3            |
| PaulJefferys     | 995803.37  | 15    | 05.11.2018 08:04:13 EST  | C++       | 2              | 2            |
| tloinuy          | 995644.57  | 16    | 05.11.2018 14:23:06 EST  | C++       | 1              | 1            |
| Masa-Y           | 995536.46  | 17    | 05.10.2018 17:36:56 EST  | C++       | 7              | 6            |
| kurenai3110      | 995393.56  | 18    | 05.11.2018 06:45:33 EST  | C++       | 5              | 5            |
| USERHACKER       | 995311.38  | 19    | 05.11.2018 14:33:58 EST  | C++       | 13             | 6            |
| windhunterSB     | 995280.00  | 20    | 05.11.2018 05:38:17 EST  | C++       | 6              | 6            |
| AlexeyProkopnev  | 995219.87  | 21    | 05.11.2018 14:51:59 EST  | Java      | 10             | 8            |
| gorbunov         | 995176.00  | 22    | 05.10.2018 19:50:08 EST  | C++       | 4              | 5            |
| fetetriste       | 995155.45  | 23    | 05.11.2018 06:56:36 EST  | Java      | 4              | 4            |
| yuuki            | 994917.31  | 24    | 05.11.2018 06:06:30 EST  | C++       | 1              | 1            |
| yowa             | 994768.70  | 25    | 05.11.2018 13:58:32 EST  | C++       | 4              | 4            |
| CatalinT         | 994760.04  | 26    | 05.11.2018 05:35:05 EST  | C++       | 4              | 4            |
| simanman         | 994757.96  | 27    | 05.11.2018 09:06:41 EST  | C++       | 6              | 3            |
| H_a_s_h          | 994707.99  | 28    | 05.11.2018 14:25:56 EST  | C++       | 1              | 1            |
| senya0126        | 994585.38  | 29    | 05.11.2018 13:07:20 EST  | C++       | 4              | 4            |
| qwerty787788     | 994403.77  | 30    | 05.11.2018 14:29:50 EST  | Java      | 1              | 2            |
| SimonM           | 994325.94  | 31    | 05.11.2018 13:36:16 EST  | C++       | 9              | 5            |
| sas4eka          | 994285.16  | 32    | 05.11.2018 16:25:38 EST  | C++       | 16             | 12           |
| kishore_g84      | 993963.72  | 33    | 05.11.2018 12:12:02 EST  | Java      | 3              | 4            |
| eris_c           | 993564.32  | 34    | 05.11.2018 12:34:44 EST  | C++       | 8              | 4            |
| nika             | 993428.20  | 35    | 05.11.2018 00:17:55 EST  | C++       | 0              | 3            |
| bduvenhage       | 993292.16  | 36    | 05.11.2018 14:16:08 EST  | C++       | 3              | 4            |
| EvbCFfp1XB       | 993220.16  | 37    | 05.10.2018 12:14:09 EST  | Java      | 2              | 2            |
| mhora            | 993100.26  | 38    | 05.11.2018 03:38:28 EST  | C++       | 2              | 2            |
| rng_58           | 993098.35  | 39    | 05.10.2018 10:06:59 EST  | C++       | 1              | 1            |
| assy0000         | 992869.41  | 40    | 05.11.2018 08:49:05 EST  | C++       | 6              | 5            |
| iwashi31         | 992737.59  | 41    | 05.11.2018 12:59:06 EST  | C++       | 0              | 2            |
| keymoon          | 992168.91  | 42    | 05.11.2018 04:32:56 EST  | C#        | 2              | 3            |
| carlop           | 991934.04  | 43    | 05.11.2018 04:50:42 EST  | C++       | 0              | 1            |
| Jeffrey.Ho       | 991641.00  | 44    | 05.11.2018 03:15:10 EST  | C++       | 6              | 4            |
| yuya178          | 991534.77  | 45    | 05.11.2018 11:38:13 EST  | Java      | 7              | 4            |
| tanzaku          | 991474.26  | 46    | 05.11.2018 08:47:07 EST  | Java      | 2              | 2            |
| my316g           | 991051.97  | 47    | 05.11.2018 13:07:57 EST  | C++       | 5              | 4            |
| fal_rnd          | 990840.76  | 48    | 05.11.2018 11:06:07 EST  | Java      | 4              | 4            |
| kotamanegi       | 990751.17  | 49    | 05.10.2018 11:41:58 EST  | C++       | 3              | 2            |
| aytawgf          | 990650.26  | 50    | 05.11.2018 14:18:52 EST  | C++       | 5              | 4            |
| rantd            | 990586.63  | 51    | 05.10.2018 20:59:33 EST  | C++       | 2              | 4            |
| krismaz          | 990348.35  | 52    | 05.11.2018 12:45:20 EST  | C++       | 2              | 2            |
| maniek           | 990346.59  | 53    | 05.11.2018 08:08:22 EST  | C++       | 2              | 4            |
| sidekick         | 990027.08  | 54    | 05.11.2018 16:13:17 EST  | Java      | 1              | 4            |
| mamekin          | 989990.47  | 55    | 05.10.2018 10:31:44 EST  | C++       | 2              | 2            |
| masakt           | 989291.84  | 56    | 05.11.2018 09:50:48 EST  | C++       | 4              | 4            |
| Kriii            | 989216.49  | 57    | 05.10.2018 11:36:25 EST  | C++       | 1              | 2            |
| skrzypl1         | 988713.60  | 58    | 05.11.2018 09:20:45 EST  | C#        | 3              | 3            |
| nel215           | 988233.63  | 59    | 05.11.2018 10:18:11 EST  | C++       | 2              | 1            |
| Wajeb            | 988105.43  | 60    | 05.11.2018 04:02:38 EST  | C++       | 6              | 3            |
| mugurelionut     | 987223.55  | 61    | 05.11.2018 13:16:44 EST  | C++       | 12             | 7            |
| mstr             | 985636.44  | 62    | 05.11.2018 11:15:02 EST  | Java      | 2              | 2            |
| ichyo            | 985324.48  | 63    | 05.11.2018 11:03:22 EST  | C++       | 2              | 3            |
| mcw1142          | 983925.90  | 64    | 05.10.2018 21:57:05 EST  | Java      | 2              | 2            |
| Pag2             | 983828.34  | 65    | 05.11.2018 03:15:25 EST  | C++       | 3              | 3            |
| m_dz             | 983728.12  | 66    | 05.11.2018 01:09:15 EST  | C++       | 5              | 4            |
| pes              | 983722.65  | 67    | 05.11.2018 11:34:57 EST  | C++       | 1              | 1            |
| hirokazu         | 983664.19  | 68    | 05.11.2018 16:10:01 EST  | C++       | 2              | 2            |
| tehnar           | 983637.33  | 69    | 05.11.2018 14:56:41 EST  | C++       | 2              | 2            |
| a781491820       | 983472.56  | 70    | 05.11.2018 10:02:37 EST  | C++       | 2              | 5            |
| kuuso1           | 983295.61  | 71    | 05.10.2018 12:38:05 EST  | C#        | 1              | 1            |
| southpolenator   | 983045.90  | 72    | 05.11.2018 13:45:26 EST  | C#        | 2              | 2            |
| daisyo           | 982670.16  | 73    | 05.10.2018 21:41:17 EST  | C++       | 6              | 5            |
| babybuffalo      | 982601.71  | 74    | 05.11.2018 11:59:25 EST  | C++       | 9              | 5            |
| asmn             | 982587.12  | 75    | 05.11.2018 02:20:45 EST  | Java      | 1              | 1            |
| Astein           | 982587.12  | 75    | 05.10.2018 20:18:27 EST  | C++       | 1              | 1            |
| belloyang        | 982587.12  | 75    | 05.11.2018 07:13:44 EST  | C++       | 2              | 2            |
| brev             | 982587.12  | 75    | 05.11.2018 11:59:24 EST  | C++       | 1              | 1            |
| damekamo         | 982587.12  | 75    | 05.11.2018 11:43:47 EST  | C++       | 1              | 1            |
| fiord            | 982587.12  | 75    | 05.10.2018 14:30:31 EST  | C++       | 1              | 1            |
| fluffyowl        | 982587.12  | 75    | 05.10.2018 02:21:10 EST  | C++       | 2              | 1            |
| fmhr             | 982587.12  | 75    | 05.11.2018 04:33:10 EST  | C++       | 1              | 1            |
| kossi_tg         | 982587.12  | 75    | 05.10.2018 08:25:38 EST  | Java      | 0              | 1            |
| Lozy             | 982587.12  | 75    | 05.10.2018 01:21:36 EST  | C++       | 1              | 1            |
| mihaly           | 982587.12  | 75    | 05.11.2018 05:41:17 EST  | Python    | 3              | 2            |
| neetsdkasu       | 982587.12  | 75    | 05.11.2018 04:36:44 EST  | VB        | 1              | 1            |
| nicklaw296       | 982587.12  | 75    | 05.10.2018 23:04:09 EST  | C++       | 2              | 2            |
| pkhomchuk        | 982587.12  | 75    | 05.11.2018 14:46:58 EST  | C++       | 3              | 4            |
| pytran           | 982587.12  | 75    | 05.11.2018 09:17:12 EST  | Java      | 0              | 1            |
| scott_wu         | 982587.12  | 75    | 05.09.2018 21:28:01 EST  | C++       | 1              | 1            |
| shamal           | 982587.12  | 75    | 05.10.2018 04:45:23 EST  | C++       | 1              | 1            |
| shin_taku        | 982587.12  | 75    | 05.10.2018 07:34:55 EST  | C++       | 2              | 1            |
| Taiyo..          | 982587.12  | 75    | 05.10.2018 10:58:04 EST  | C++       | 1              | 1            |
| tchizh           | 982587.12  | 75    | 05.11.2018 12:58:11 EST  | C++       | 1              | 1            |
| TSakai           | 982587.12  | 75    | 05.10.2018 10:41:22 EST  | C++       | 1              | 1            |
| xyz600           | 982587.12  | 75    | 05.10.2018 10:48:33 EST  | C++       | 1              | 1            |
| y_kawano         | 982587.12  | 75    | 05.10.2018 14:58:51 EST  | C++       | 1              | 2            |
| Zhiheng          | 982587.12  | 75    | 05.10.2018 14:25:31 EST  | C++       | 1              | 1            |
| kt_tenel         | 982035.22  | 99    | 05.10.2018 06:22:44 EST  | C++       | 1              | 1            |
| vlad_D           | 982004.39  | 100   | 05.10.2018 01:33:59 EST  | C++       | 2              | 1            |
| NEU20133823      | 975931.13  | 101   | 05.10.2018 23:54:52 EST  | C++       | 3              | 5            |
| shilov           | 972288.20  | 102   | 05.11.2018 14:41:38 EST  | Java      | 3              | 2            |
| MIPT_Alex        | 962846.88  | 103   | 05.11.2018 13:43:38 EST  | C#        | 5              | 2            |
| vdave            | 960668.51  | 104   | 05.11.2018 10:14:14 EST  | C++       | 2              | 2            |
| colun            | 955980.39  | 105   | 05.11.2018 15:52:04 EST  | C++       | 1              | 1            |
| tygrysek         | 869848.80  | 106   | 05.10.2018 14:18:36 EST  | C++       | 2              | 1            |
| kazuya030        | 671967.88  | 107   | 05.11.2018 04:37:06 EST  | Python    | 2              | 2            |
| homesentinel     | 642271.30  | 108   | 05.11.2018 02:22:17 EST  | C++       | 1              | 2            |
| cheaps           | 353330.72  | 109   | 05.10.2018 23:26:49 EST  | C++       | 3              | 1            |
| ceni1055         | 223815.48  | 110   | 05.11.2018 11:37:59 EST  | C++       | 4              | 4            |
| eiya             | 60921.57   | 111   | 05.11.2018 09:49:04 EST  | C++       | 2              | 2            |
| moshu            | 50966.70   | 112   | 05.11.2018 07:20:54 EST  | C++       | 2              | 2            |
| NobuMiu          | 49102.24   | 113   | 05.09.2018 21:20:25 EST  | C++       | 1              | 1            |
| tdye             | 44052.04   | 114   | 05.11.2018 14:08:46 EST  | C++       | 1              | 1            |
| Pierroteknik     | 41096.95   | 115   | 05.11.2018 15:25:24 EST  | Python    | 1              | 1            |
| jfguo            | 38986.04   | 116   | 05.11.2018 07:52:55 EST  | C++       | 2              | 1            |
| alittlezz        | 12213.49   | 117   | 05.10.2018 12:06:00 EST  | C++       | 1              | 1            |
| baseballnut      | 12213.49   | 117   | 05.10.2018 12:33:47 EST  | Java      | 1              | 1            |
| id               | 12213.49   | 117   | 05.10.2018 13:19:47 EST  | C#        | 1              | 1            |
| PnumaSON         | 12213.49   | 117   | 05.10.2018 09:37:12 EST  | C++       | 0              | 1            |
| promien          | 12213.49   | 117   | 05.10.2018 13:48:44 EST  | Java      | 1              | 1            |
| NOSS             | 3.33       | 122   | 05.11.2018 10:43:15 EST  | C++       | 4              | 2            |
| u271969h         | 0.00       | 123   | 05.11.2018 10:00:02 EST  | Python    | 4              | 1            |

</details>

提出したら12位。 元は60位だったので1/5になった。 人権ラインも飛び越えてくれたしとりあえずはいい感じ。
でも predicted rating = 2159.87 / rating delta = 90.87 なのでまだ足りない。
performance as = 2441.34 ではあるらしい。 まあ今回赤い人多いからね。

さてここから先は何をするべきか。
実行時間が余ってるので焼いたりしてみるのはどうか。
何も分からないのはいつものことだが、どう時間を使えばいいかで困るのは始めてかも。
干渉しているものを弾くのに現在の貪欲でなくてbit列として焼くとか、交差点の位置のずらし方を焼くとか。
overall scoreの算出方法が(best/your)^2 なので、bestとyourの差の総和が同じなら差の分散が大きい方が有利だがそのように考えてみるのもあり。
でもそう影響するとは思えないし、単に総和を大きくする方法を考えた方が建設的。 時期が悪い。
計算が荒い部分、例えば保険のために複数の交差点を建設する場合に複数の交差点同士を繋ぐコストを無視してるとか、そういうのをちゃんとやる。
これは今すぐにでもできるしやっておくべき。 でもコードが重く汚なくなるのでもう少し先延ばしたい。
表を眺めてどうこうをしようと思ったとき、必要なのは1回の事象ではなくて確率分布だよね。 出力が足りてない。

いっそ環境整備をしながら様子見はどうか。 いや様子を見てどうするんだ。
<http://hakomo.github.io/mm/?contest=samecolorpairs> [hakomo/MM_STAT](https://github.com/hakomo/MM_STAT) と同じ種類のものが必要。
グラフを作るだけならもうこれ借りればいいやという気がしてくるが、それ以外もしたいのでやはりちゃんと汎用的なのを用意しないと。
kaggle方面の知識を引っ張ってこよう。
[Python&#x27;s Visualization Landscape (PyCon 2017) // Speaker Deck](https://speakerdeck.com/jakevdp/pythons-visualization-landscape-pycon-2017)。
とりあえずはSeabornかなあ。
しかしmatplotlibはinteractiveが弱いので悲しい。

<details>
<summary>$ git tree --all</summary>

```
$ git tree --all
* d34fc37 (HEAD) sampling
| * 2d54d52 (origin/master, master) fix the bug
| | *   e3ff8c5 (refs/stash) WIP on master: 4080c4f MAKEFILE: update
| | |\  
| |/ /  
| | * 29c7da9 index on master: 4080c4f MAKEFILE: update
| |/  
| * 4080c4f MAKEFILE: update
|/  
* d2ccba1 remove conflicts
* 239d695 fix a bug of raw score
* 57d8a67 refactoring
* e196ab1 MAKEFILE: refactoring
* d5c8038 MAKEFILE: add view target
* cf3da61 simple greedy
* cbb3cab VISUALIZER: merge the update
* 87c0350 PLOT: plot gradients
* c0a6723 VISUALIZER: save input data to test/
* 30a1b9e logging
* 8c0f670 simple Prim method without junctions
* 7908a4e VISUALIZER: use vis/ dir to make imgs
* d9cfbd8 main.cpp and Makefile
* aa9bc8f RoadsAndJunctions.cpp and RoadsAndJunctionsVis.java
* 2d7740c readme.md
* 2c02442 empty commit
```

</details>

今日のうっかり: commit tree を壊した。
コマンドの体系が捻じ曲がってるのが悪い。

<details>
<summary>score表 2d54d52e7137702eac2fd6011a1d3cbf3893729b (再)</summary>

-   average of average reference delta = 23.671609780000004

|  seed  |  S     |  NC   |  junction_cost  |  failure_probability  |  reference_score  |  score    |  NJ  |  raw_reference_delta  |  average_reference_delta  |  elapsed      |
|--------|--------|-------|-----------------|-----------------------|-------------------|-----------|------|-----------------------|---------------------------|---------------|
|  1     |  100   |  10   |  0              |  0                    |  211.799          |  205.014  |  2   |  6.78456              |  6.78456                  |  0.00116279   |
|  2     |  1000  |  100  |  10             |  0.4                  |  7076.41          |  7069.4   |  1   |  7.01586              |  0.141455                 |  1.94006      |
|  3     |  681   |  29   |  1.19683        |  0.219465             |  2650.32          |  2616.34  |  11  |  33.9854              |  30.6782                  |  0.0186882    |
|  4     |  651   |  83   |  1.73856        |  0.234257             |  3860.76          |  3830.1   |  15  |  30.655               |  42.4683                  |  0.750231     |
|  5     |  203   |  59   |  0.485986       |  0.318834             |  1145.17          |  1117.77  |  24  |  27.3986              |  25.339                   |  0.132541     |
|  6     |  159   |  36   |  6.19182        |  0.133476             |  602.476          |  602.476  |  0   |  0                    |  0                        |  0.0270252    |
|  7     |  992   |  54   |  3.05834        |  0.222134             |  4615.96          |  4568.09  |  15  |  47.8716              |  58.7098                  |  0.223004     |
|  8     |  290   |  30   |  5.06014        |  0.0833835            |  1029.27          |  1029.27  |  0   |  0                    |  0                        |  0.0198127    |
|  9     |  352   |  74   |  8.31999        |  0.355557             |  2075.8           |  2075.8   |  0   |  0                    |  0                        |  0.446707     |
|  10    |  612   |  41   |  0.214048       |  0.34114              |  2705.94          |  2629.08  |  30  |  76.8534              |  80.4511                  |  0.0910512    |
|  11    |  638   |  46   |  3.62507        |  0.0876584            |  2863.82          |  2851     |  3   |  12.8238              |  10.6973                  |  0.0966193    |
|  12    |  725   |  86   |  3.3736         |  0.26382              |  4406.18          |  4387.15  |  14  |  19.0363              |  37.0885                  |  0.913821     |
|  13    |  463   |  43   |  8.45917        |  0.281464             |  2071.32          |  2071.32  |  0   |  0                    |  0                        |  0.0744507    |
|  14    |  132   |  22   |  8.10864        |  0.292175             |  455.443          |  455.443  |  0   |  0                    |  0                        |  0.00422528   |
|  15    |  809   |  76   |  5.21673        |  0.207705             |  4839.52          |  4811.85  |  10  |  27.672               |  40.1412                  |  0.651397     |
|  16    |  747   |  65   |  3.34758        |  0.0271153            |  3851.48          |  3787.42  |  13  |  64.0587              |  68.0998                  |  0.436101     |
|  17    |  453   |  15   |  9.39138        |  0.363217             |  1368.78          |  1347.76  |  2   |  21.0201              |  6.33523                  |  0.00522533   |
|  18    |  394   |  50   |  4.57993        |  0.0602296            |  1753.25          |  1736.63  |  3   |  16.6146              |  14.9506                  |  0.116548     |
|  19    |  424   |  10   |  5.98642        |  0.0195443            |  755.232          |  734.299  |  2   |  20.9327              |  20.2817                  |  0.00219088   |
|  20    |  586   |  93   |  4.29216        |  0.179694             |  4194.97          |  4157.15  |  10  |  37.8274              |  30.4458                  |  0.976204     |
|  21    |  111   |  92   |  6.18773        |  0.374979             |  688.366          |  688.366  |  0   |  0                    |  0                        |  0.11384      |
|  22    |  652   |  54   |  4.17726        |  0.158484             |  3356.2           |  3286.8   |  8   |  69.3967              |  53.4503                  |  0.248348     |
|  23    |  386   |  35   |  5.333          |  0.313822             |  1460.57          |  1454.68  |  1   |  5.89542              |  2.32478                  |  0.0436652    |
|  24    |  747   |  46   |  5.98039        |  0.330563             |  3533.73          |  3495.36  |  6   |  38.3737              |  22.2978                  |  0.209393     |
|  25    |  599   |  69   |  0.438833       |  0.359372             |  3346.57          |  3289.99  |  32  |  56.5813              |  56.6372                  |  0.592286     |
|  26    |  595   |  66   |  4.29018        |  0.356701             |  3312.26          |  3280.96  |  6   |  31.3015              |  17.1006                  |  0.507283     |
|  27    |  916   |  93   |  8.99019        |  0.0844748            |  6114.55          |  6081.19  |  8   |  33.3554              |  24.5362                  |  1.30591      |
|  28    |  418   |  50   |  9.05043        |  0.376639             |  2141.44          |  2141.44  |  0   |  0                    |  0                        |  0.121065     |
|  29    |  526   |  17   |  5.96958        |  0.193245             |  1763.78          |  1755.69  |  3   |  8.08951              |  14.7517                  |  0.00388001   |
|  30    |  989   |  52   |  7.33554        |  0.181162             |  4833.05          |  4815.97  |  6   |  17.0756              |  19.1687                  |  0.19512      |
|  31    |  889   |  89   |  2.12542        |  0.144358             |  5957.45          |  5844.38  |  24  |  113.07               |  123.156                  |  1.34203      |
|  32    |  119   |  10   |  6.91145        |  0.171263             |  322.868          |  322.868  |  0   |  0                    |  0                        |  0.000573055  |
|  33    |  780   |  70   |  8.90866        |  0.332704             |  4174.82          |  4169.82  |  1   |  4.99849              |  0.297872                 |  0.417762     |
|  34    |  253   |  22   |  4.7433         |  0.218495             |  894.603          |  883.829  |  1   |  10.7741              |  7.15851                  |  0.00601688   |
|  35    |  971   |  96   |  4.81178        |  0.198557             |  6231.32          |  6161.22  |  14  |  70.0971              |  58.5901                  |  1.41524      |
|  36    |  915   |  92   |  3.10678        |  0.163317             |  6158.92          |  6071.04  |  21  |  87.8816              |  102.745                  |  1.43905      |
|  37    |  545   |  56   |  8.53145        |  0.344125             |  2498.38          |  2492.18  |  1   |  6.20887              |  1.07924                  |  0.215572     |
|  38    |  944   |  38   |  9.56239        |  0.0884913            |  4065.27          |  4056.37  |  1   |  8.89509              |  7.34466                  |  0.044841     |
|  39    |  795   |  48   |  5.90049        |  0.382981             |  3740.64          |  3749.05  |  5   |  -8.40945             |  8.3186                   |  0.110522     |
|  40    |  661   |  62   |  6.58611        |  0.392874             |  3354.46          |  3356.62  |  3   |  -2.1657              |  13.358                   |  0.291096     |
|  41    |  905   |  83   |  1.10634        |  0.0719624            |  5506.82          |  5430.1   |  20  |  76.7206              |  85.5719                  |  0.822715     |
|  42    |  793   |  34   |  1.91818        |  0.0745493            |  2802.91          |  2762.02  |  6   |  40.8934              |  37.0452                  |  0.0439187    |
|  43    |  635   |  71   |  8.94074        |  0.107323             |  3444.94          |  3437.25  |  1   |  7.69375              |  6.01367                  |  0.45487      |
|  44    |  100   |  73   |  4.84695        |  0.244568             |  575.775          |  575.775  |  0   |  0                    |  0                        |  0.0627763    |
|  45    |  102   |  39   |  5.2517         |  0.111105             |  483.439          |  483.439  |  0   |  0                    |  0                        |  0.0203456    |
|  46    |  855   |  34   |  4.00221        |  0.136547             |  3741.47          |  3675.06  |  7   |  66.4093              |  58.1882                  |  0.126721     |
|  47    |  137   |  14   |  2.99751        |  0.188836             |  301.056          |  298.487  |  2   |  2.56903              |  0.886056                 |  0.00125645   |
|  48    |  447   |  92   |  7.83364        |  0.171961             |  2977.86          |  2964.88  |  2   |  12.9826              |  7.92097                  |  0.811924     |
|  49    |  182   |  51   |  4.8496         |  0.0729895            |  809.078          |  809.078  |  0   |  0                    |  0                        |  0.0621995    |
|  50    |  811   |  44   |  9.82905        |  0.336282             |  3576.43          |  3579.11  |  2   |  -2.68435             |  13.8062                  |  0.115219     |
|  51    |  531   |  46   |  3.83671        |  0.199246             |  2564.27          |  2539.61  |  9   |  24.6645              |  30.4763                  |  0.108314     |
|  52    |  319   |  84   |  3.72433        |  0.372165             |  1936.22          |  1932.88  |  1   |  3.34362              |  0.686073                 |  0.376234     |
|  53    |  441   |  84   |  6.76474        |  0.197857             |  2746.55          |  2748.19  |  3   |  -1.64443             |  3.03226                  |  0.546505     |
|  54    |  700   |  79   |  8.38883        |  0.226232             |  4060.89          |  4062.91  |  2   |  -2.01502             |  11.712                   |  0.640589     |
|  55    |  116   |  43   |  3.24492        |  0.238288             |  525.939          |  525.939  |  0   |  0                    |  0                        |  0.0323435    |
|  56    |  957   |  65   |  5.55508        |  0.0697866            |  5422.59          |  5360.75  |  9   |  61.8319              |  73.5206                  |  0.361633     |
|  57    |  236   |  85   |  9.93316        |  0.305369             |  1510.62          |  1510.62  |  0   |  0                    |  0                        |  0.263002     |
|  58    |  832   |  22   |  9.43696        |  0.201948             |  2639.24          |  2606.56  |  3   |  32.6843              |  19.6016                  |  0.0086919    |
|  59    |  972   |  83   |  6.60572        |  0.29554              |  5964.47          |  5926.15  |  9   |  38.3189              |  29.7877                  |  1.00927      |
|  60    |  294   |  62   |  4.55567        |  0.00824559           |  1566.95          |  1565.02  |  2   |  1.92152              |  1.80109                  |  0.163739     |
|  61    |  255   |  39   |  8.75003        |  0.350437             |  1014.93          |  1014.93  |  0   |  0                    |  0                        |  0.0386011    |
|  62    |  214   |  16   |  2.82812        |  0.0809105            |  548.44           |  540.023  |  1   |  8.41689              |  7.51729                  |  0.0020381    |
|  63    |  772   |  92   |  6.31554        |  0.366019             |  5000.81          |  4994.37  |  1   |  6.4441               |  1.72303                  |  1.01036      |
|  64    |  409   |  67   |  5.44136        |  0.187936             |  2334.94          |  2318.93  |  5   |  16.0129              |  7.71299                  |  0.283728     |
|  65    |  922   |  52   |  1.75385        |  0.239791             |  4269.91          |  4209.42  |  19  |  60.4857              |  72.1583                  |  0.169254     |
|  66    |  687   |  44   |  4.01128        |  0.131341             |  2965.33          |  2934.78  |  4   |  30.5438              |  24.6208                  |  0.0922669    |
|  67    |  517   |  69   |  9.45127        |  0.296741             |  2858.29          |  2858.29  |  0   |  0                    |  0                        |  0.440531     |
|  68    |  732   |  14   |  5.84228        |  0.37949              |  1683.85          |  1667.78  |  3   |  16.071               |  17.892                   |  0.00590528   |
|  69    |  944   |  28   |  8.94296        |  0.225402             |  3391.53          |  3388.3   |  4   |  3.22789              |  6.82051                  |  0.0350052    |
|  70    |  158   |  21   |  0.399652       |  0.173033             |  540.832          |  529.086  |  8   |  11.7465              |  10.4014                  |  0.0134939    |
|  71    |  891   |  50   |  2.36993        |  0.126892             |  4654.66          |  4530.36  |  13  |  124.297              |  127.995                  |  0.350075     |
|  72    |  500   |  64   |  3.81816        |  0.235845             |  2698.75          |  2678.09  |  6   |  20.6579              |  17.743                   |  0.281357     |
|  73    |  171   |  77   |  0.715637       |  0.158135             |  1042.77          |  1034.89  |  15  |  7.87762              |  11.4579                  |  0.14238      |
|  74    |  883   |  26   |  1.4109         |  0.0218876            |  3202.48          |  3146.64  |  6   |  55.8418              |  54.546                   |  0.0154878    |
|  75    |  932   |  70   |  1.81727        |  0.0663946            |  5102.3           |  5021.72  |  18  |  80.5763              |  87.4042                  |  0.544822     |
|  76    |  840   |  96   |  3.75031        |  0.276835             |  5449.56          |  5410.49  |  18  |  39.0697              |  54.0129                  |  1.4117       |
|  77    |  974   |  29   |  9.25287        |  0.260386             |  3647.37          |  3646.33  |  2   |  1.03902              |  5.72458                  |  0.0149659    |
|  78    |  793   |  50   |  0.278891       |  0.105056             |  3525.74          |  3463.29  |  17  |  62.448               |  61.4398                  |  0.15279      |
|  79    |  284   |  85   |  1.26488        |  0.383359             |  1812.03          |  1805.56  |  10  |  6.47177              |  7.77239                  |  0.351525     |
|  80    |  845   |  39   |  2.40821        |  0.362387             |  3772.24          |  3723.9   |  13  |  48.3451              |  51.8433                  |  0.0753575    |
|  81    |  188   |  49   |  9.4724         |  0.341136             |  943.365          |  943.365  |  0   |  0                    |  0                        |  0.069185     |
|  82    |  407   |  69   |  9.01488        |  0.384821             |  2367.4           |  2367.4   |  0   |  0                    |  0                        |  0.321736     |
|  83    |  100   |  75   |  6.45271        |  0.245219             |  549.342          |  549.342  |  0   |  0                    |  0                        |  0.0673204    |
|  84    |  232   |  37   |  9.81196        |  0.192226             |  970.117          |  970.117  |  0   |  0                    |  0                        |  0.0355173    |
|  85    |  419   |  61   |  4.1414         |  0.0883957            |  2343.6           |  2344.1   |  8   |  -0.498576            |  9.63008                  |  0.228097     |
|  86    |  295   |  66   |  8.88777        |  0.340158             |  1701.98          |  1701.98  |  0   |  0                    |  0                        |  0.193634     |
|  87    |  825   |  73   |  7.70499        |  0.126475             |  4651.8           |  4625.79  |  3   |  26.0104              |  19.833                   |  0.577542     |
|  88    |  717   |  52   |  4.49972        |  0.223597             |  3391.9           |  3346.63  |  6   |  45.2742              |  28.3709                  |  0.158068     |
|  89    |  654   |  47   |  1.59778        |  0.0288321            |  3107.8           |  3065.25  |  9   |  42.5515              |  45.2934                  |  0.094021     |
|  90    |  162   |  48   |  6.05135        |  0.207444             |  792.099          |  792.099  |  0   |  0                    |  0                        |  0.051715     |
|  91    |  384   |  77   |  4.76218        |  0.316232             |  2329.51          |  2326.57  |  1   |  2.94086              |  0.468182                 |  0.378523     |
|  92    |  200   |  68   |  9.52017        |  0.385734             |  1110.69          |  1110.69  |  0   |  0                    |  0                        |  0.129095     |
|  93    |  689   |  71   |  2.90123        |  0.158406             |  3945.72          |  3886.52  |  13  |  59.201               |  56.8911                  |  0.468503     |
|  94    |  884   |  98   |  4.78128        |  0.295698             |  5955.23          |  5905.95  |  14  |  49.2825              |  49.0469                  |  1.50486      |
|  95    |  471   |  61   |  6.30631        |  0.0388896            |  2546.72          |  2533.23  |  6   |  13.4939              |  11.5333                  |  0.27877      |
|  96    |  159   |  92   |  3.48919        |  0.150729             |  1045.62          |  1045.62  |  0   |  0                    |  0                        |  0.203786     |
|  97    |  978   |  66   |  1.85956        |  0.203047             |  5326.04          |  5246.46  |  18  |  79.5841              |  79.8111                  |  0.424353     |
|  98    |  669   |  15   |  0.834818       |  0.0205567            |  1748.97          |  1710.71  |  3   |  38.2596              |  37.3422                  |  0.00211769   |
|  99    |  462   |  57   |  6.42981        |  0.396193             |  2352.58          |  2352.58  |  0   |  0                    |  0                        |  0.168001     |
|  100   |  290   |  24   |  0.743751       |  0.108745             |  749.729          |  732.202  |  5   |  17.5272              |  15.1778                  |  0.00724715   |

</details>

得点の平均値を出すようにした。
平均で +8 点なのに実際は -8 点みたいなテストケースもあって不思議。
算術平均だけでなくて中央値や標準偏差ということになってくるし、直接分布を見るべきだろうので次はグラフ描画。
ところで今Monte Carloに求めてるこの期待値ってDPとかでえいって真の値でてこないかな。
干渉のグラフを上手く持てばできるかもだけど速度とかまで含めると微妙そう。

<details>
<summary>err出力 02a606ca47f4b55c378d64ef5f5a31367538d317</summary>

```
$ java -jar tester.jar -exec ./a.out -seed 577
seed = 577
S = 206
NC = 84
junction cost = 0.00676046
failure probability = 0.309972
reference score = 1324.76
size of candidates for hill climbing = 1555
size of candidates after hill climbing = 60
size of candidates after removing conflicts = 27
use (191, 128) (k = 5, expected gain = 3.21411)
use (43, 22) (k = 5, expected gain = 3.08244)
use (109, 74) (k = 5, expected gain = 3.0769)
use (100, 114) (k = 5, expected gain = 2.96899)
use (39, 140) (k = 5, expected gain = 2.59484)
use (154, 170) (k = 5, expected gain = 2.16461)
use (23, 82) (k = 5, expected gain = 2.10799)
use (155, 28) (k = 5, expected gain = 2.01207)
use (80, 128) (k = 5, expected gain = 1.97925)
use (64, 178) (k = 5, expected gain = 1.77199)
use (56, 152) (k = 5, expected gain = 1.71274)
use (150, 147) (k = 5, expected gain = 1.53648)
use (127, 93) (k = 5, expected gain = 1.25785)
use (157, 68) (k = 5, expected gain = 1.22515)
use (54, 70) (k = 5, expected gain = 1.14315)
use (83, 20) (k = 5, expected gain = 1.09779)
use (88, 119) (k = 5, expected gain = 1.07772)
use (143, 18) (k = 4, expected gain = 0.854728)
use (60, 21) (k = 4, expected gain = 0.614549)
use (193, 68) (k = 4, expected gain = 0.431514)
use (109, 171) (k = 4, expected gain = 0.352341)
use (95, 14) (k = 4, expected gain = 0.338377)
use (67, 82) (k = 3, expected gain = 0.259297)
use (45, 161) (k = 3, expected gain = 0.254169)
use (67, 12) (k = 3, expected gain = 0.208809)
use (160, 157) (k = 3, expected gain = 0.175139)
use (160, 127) (k = 3, expected gain = 0.145514)
You can only build junctions on places not occupied by cities or other junctions.
Score = -1.0
```

</details>

たくさん走らせていたらバグ。 `You can only build junctions on places not occupied by cities or other junctions.`。
交差点どうしの衝突は排除した気がするが、町との衝突は考えてなかったね。
いやそこそもそも置く意味ないはずなんだけどおかしいなあ。
ちゃんと細部の調整が必要。
でもまあ後回し。
どちらかというと細かいバグの排除のために10000単位で走らせてみるべきかも。 どうせ軽いし。

いろいろplotした。
`de28db851d58b9a233d5f496989a9842053badc2` 時点のもの。
次の1枚目はpairplot。 (S, reference score), (NJ, average reference delta) などに相関は見られるが、これらは自明。
MM100のときの 面積 - 得点 の相関のような役に立つものはなさそう。
2000行ぐらい用意したのにあまり投げ込むと潰れて読めないので200行のみ使用した。
2,3,4,5枚目はdistplot。 それぞれ seed = 2,3,4,10 での交差点の建設計画に対する得点の分布図。
NJ が大きくても正規分布ぽくない変な形になることがあるぽい。
対数正規分布、Weibull分布、Erlang分布、gamma分布などいくつか見てみたがどれに近いかすら分からない。
そしてどれに近いか分かれば何が分かるのかも分からない。
面白いのだけどでもこれを見ても何もすることない。 困る。
画像が増えたのでpathをいじったらこのmarkdownに貼ってた古い画像が壊れた。
commit hashを含めたfull pathで書かないとだめっぽい。 でも面倒なので適当に修正された。

1.  ![pairplot.200.de28db851d58b9a233d5f496989a9842053badc2.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/documents/images/pairplot.200.de28db851d58b9a233d5f496989a9842053badc2.png?token=ACGd-L9kvMoFMocPOKeJ5QInXkmXU0FQks5a_2wPwA%3D%3D)
1.  ![distplot.2.de28db851d58b9a233d5f496989a9842053badc2.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/documents/images/distplot.2.de28db851d58b9a233d5f496989a9842053badc2.png?token=ACGd-O_Yz_2s8rJtpPPH2XI7FKBpUQhsks5a_2_YwA%3D%3D)
1.  ![distplot.3.de28db851d58b9a233d5f496989a9842053badc2.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/documents/images/distplot.3.de28db851d58b9a233d5f496989a9842053badc2.png?token=ACGd-GJxJ7iX_7ztjYM9zYh64mmLAugkks5a_2yLwA%3D%3D)
1.  ![distplot.4.de28db851d58b9a233d5f496989a9842053badc2.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/documents/images/distplot.4.de28db851d58b9a233d5f496989a9842053badc2.png?token=ACGd-B3rA1k0mMN4tEJ142JQ7mrzI7NHks5a_2yNwA%3D%3D)
1.  ![distplot.10.de28db851d58b9a233d5f496989a9842053badc2.png](https://raw.githubusercontent.com/kmyk/topcoder-marathon-match-tco-2018-r1-roads-and-junctions/documents/images/distplot.10.de28db851d58b9a233d5f496989a9842053badc2.png?token=ACGd-HZq41GxBxZeozcP2Iosk_ReJPeYks5a_2xuwA%3D%3D)
